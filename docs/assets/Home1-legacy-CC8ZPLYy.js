System.register(["./index-legacy-PKqiM25M.js","./music-legacy-BPB2c-WN.js","./cover-legacy-BlVuG08V.js","./overflowText-legacy-DbhmJUuD.js","./v-scale-screen-legacy-C3_kszPO.js","./plugin-vueexport-helper-legacy-DCWa1RRI.js"],function(o,n){"use strict";var a,i,t,e,r,l,c,s,d,f,g,u,b,p,v,x,y,h,m,w,k,D,j,z,I,_,C,S,P;return{setters:[function(o){a=o.bS,i=o.av,t=o.r,e=o.c,r=o.w,l=o.o,c=o.N,s=o.B,d=o.u,f=o.s,g=o.v,u=o.x,b=o.an,p=o.A,v=o.aq,x=o.p,y=o.ap,h=o.q,m=o.X,w=o.V,k=o.O,D=o.W,j=o.y},function(o){z=o._},function(o){I=o.g,_=o.u},function(o){C=o.o},function(o){S=o.T},function(o){P=o._}],execute:function(){var n=document.createElement("style");n.textContent='@keyframes rotate-b3c795d9{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.song-container .lyric-info[data-v-b3c795d9],.song-container .basic-info .process-box[data-v-b3c795d9],.song-container .basic-info .info-box>div[data-v-b3c795d9],.song-container .cover[data-v-b3c795d9]{border-radius:10px;transition:box-shadow 2s ease;filter:drop-shadow(0 4px 10px var(--shadow-color))}.fade-enter-from[data-v-b3c795d9],.fade-leave-to[data-v-b3c795d9]{opacity:0}.song-container[data-v-b3c795d9]{height:220px;width:1800px;margin:40px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:15px;transition:background-color 2s ease,color 2s ease}.song-container .cover[data-v-b3c795d9]{height:100%;aspect-ratio:1/1;background-color:var(--theme-color);transition:opacity .5s ease}.song-container .basic-info[data-v-b3c795d9]{height:100%;display:flex;flex-direction:column;gap:15px}.song-container .basic-info .info-box[data-v-b3c795d9]{display:flex;gap:15px}.song-container .basic-info .info-box>div[data-v-b3c795d9]{box-sizing:border-box;padding:15px 20px;background-color:var(--theme-color);transition:background-color 2s ease}.song-container .basic-info .info-box .game-info[data-v-b3c795d9]{width:fit-content;max-width:400px;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.song-container .basic-info .info-box .game-info span[data-v-b3c795d9]{white-space:nowrap;color:var(--text-color);transition:color 2s ease}.song-container .basic-info .info-box .game-info>span[data-v-b3c795d9]:nth-child(1){width:100%;display:flex;justify-content:space-around;align-items:center;gap:10px;font-size:45px;font-weight:700;letter-spacing:2px}.song-container .basic-info .info-box .game-info div[data-v-b3c795d9]{width:100%;display:flex;flex-direction:row;justify-content:space-between;gap:10px}.song-container .basic-info .info-box .game-info div span[data-v-b3c795d9]{font-size:35px}.song-container .basic-info .info-box .song-info2[data-v-b3c795d9]{min-width:450px!important;max-width:600px!important}.song-container .basic-info .info-box .song-info[data-v-b3c795d9]{width:auto;min-width:320px;max-width:400px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:10px}.song-container .basic-info .info-box .song-info .song[data-v-b3c795d9]{height:100%;flex:1;min-width:100px;display:flex;flex-direction:column;justify-content:space-around;overflow:hidden}.song-container .basic-info .info-box .song-info .song span[data-v-b3c795d9]{font-size:45px;font-weight:700;color:var(--text-color)}.song-container .basic-info .info-box .song-info .rotate-icon[data-v-b3c795d9]{width:120px;height:120px;box-sizing:border-box;padding:10px;animation:rotate-b3c795d9 5s linear infinite}.song-container .basic-info .info-box .song-info .playing-container[data-v-b3c795d9]{position:relative;height:120px;width:120px;aspect-ratio:1/1;overflow:hidden;box-sizing:border-box;border-bottom:6px solid var(--text-color);transition:border-color 2s ease}.song-container .basic-info .info-box .song-info .playing-container .sun[data-v-b3c795d9]{position:absolute;top:60px;left:calc(50% - 50px);width:100px;height:100px;animation:sun-b3c795d9 5s ease-in-out infinite}.song-container .basic-info .info-box .song-info .playing-container .sun .sun-body[data-v-b3c795d9]{position:absolute;top:10px;left:20px;width:50px;height:50px;border-radius:50%;border:6px solid var(--text-color);transition:border-color 2s ease;animation:sun-body-b3c795d9 5s linear infinite}.song-container .basic-info .info-box .song-info .playing-container .sun .sun-body .line[data-v-b3c795d9]{position:absolute;top:-25px;left:calc(50% - 3px);width:6px;height:15px;border-radius:3px;background-color:var(--text-color);transition:background-color 2s ease;transform:rotate(calc(var(--i) * 45deg));transform-origin:center 50px}@keyframes sun-body-b3c795d9{40%{transform:rotate(0)}50%,to{transform:rotate(45deg)}}.song-container .basic-info .info-box .song-info .playing-container .sun .eye[data-v-b3c795d9]{position:absolute;top:38px;left:35px;width:6px;height:6px;border-radius:50%;background-color:var(--text-color);box-shadow:16px 0 var(--text-color);transition:background-color 2s ease,box-shadow 2s ease;animation:eye-b3c795d9 5s linear infinite}@keyframes eye-b3c795d9{50%,60%{transform:scaleY(1)}55%{transform:scaleY(.1)}65%,to{transform:translate(12px)}}@keyframes sun-b3c795d9{0%,10%,to{transform:translateY(20px)}40%,70%{transform:translateY(-45px)}}.song-container .basic-info .info-box svg[data-v-b3c795d9]{color:var(--text-color)}.song-container .basic-info .process-box[data-v-b3c795d9]{flex:1;width:100%;box-sizing:border-box;padding:0 20px;background-color:var(--theme-color);transition:background-color 2s ease;display:flex;justify-content:space-between;align-items:center;gap:20px}.song-container .basic-info .process-box span[data-v-b3c795d9]{font-size:35px;font-weight:600;color:var(--text-color);transition:color 2s ease}.song-container .basic-info .process-box .process-bar[data-v-b3c795d9]{flex:1;position:relative;height:20px;border-radius:14px;overflow:hidden;background-color:var(--bg-color);border:4px solid var(--bg-color);transition:background-color 2s ease,border-color 2s ease}.song-container .basic-info .process-box .process-bar[data-v-b3c795d9]:before{content:"";position:absolute;top:0;left:0;height:inherit;width:calc(var(--process) * 100%);background-color:var(--stress-color);transition:width .5s ease,background-color 2s ease}.song-container .lyric-info[data-v-b3c795d9]{height:100%;flex:1;box-sizing:border-box;padding:0 20px;background-color:var(--theme-color);transition:background-color 2s ease;overflow:hidden;position:relative}.song-container .lyric-info .lyric-box[data-v-b3c795d9]{width:100%;transition:transform .5s ease}.song-container .lyric-info .lyric-box .lyric-line[data-v-b3c795d9]{height:73px;width:100%;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;color:var(--text-color);font-size:45px;opacity:.8;transition:all .5s ease-in-out;z-index:2}.song-container .lyric-info .lyric-box .lyric-line span[data-v-b3c795d9]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;letter-spacing:-1px}.song-container .lyric-info .lyric-box .lyric-line.active[data-v-b3c795d9]{opacity:1;font-size:55px;font-weight:700}.song-container .lyric-info .lyric-box .lyric-line[data-v-b3c795d9]:not(.active){filter:blur(1px)}.song-container .lyric-info .lyric-box .lyric-line-translated[data-v-b3c795d9]{height:110px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-around;box-sizing:border-box;padding:10px 0;color:var(--text-color);font-size:38px;opacity:.8;transition:all .5s ease-in-out;z-index:2}.song-container .lyric-info .lyric-box .lyric-line-translated span[data-v-b3c795d9]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:visible;transition:all .5s ease-in-out;flex:1}.song-container .lyric-info .lyric-box .lyric-line-translated.active[data-v-b3c795d9]{opacity:1;font-weight:700}.song-container .lyric-info .lyric-box .lyric-line-translated.active .original[data-v-b3c795d9]{font-size:45px;transform:translateY(10px);opacity:.8;filter:blur(2px)}.song-container .lyric-info .lyric-box .lyric-line-translated.active .translated[data-v-b3c795d9]{font-size:55px;transform:translateY(-10px)}.song-container .lyric-info .lyric-box .lyric-line-translated[data-v-b3c795d9]:not(.active){filter:blur(1px)}.song-container .lyric-info .lyric-empty[data-v-b3c795d9]{width:100%;height:100%;display:flex;justify-content:flex-start;align-items:center;font-size:55px;font-weight:700;color:var(--text-color);transition:all .5s ease-in-out}.song-container .lyric-info .lyric-bg[data-v-b3c795d9]{position:absolute;top:-30px;right:0;height:calc(100% + 60px);aspect-ratio:1/1}.song-container .lyric-info .lyric-bg img[data-v-b3c795d9]{width:100%;height:100%;object-fit:cover;-webkit-mask-image:linear-gradient(to right,transparent,rgba(0,0,0,.8));mask-image:linear-gradient(to right,transparent,rgba(0,0,0,.8));filter:blur(3px);opacity:0;animation:fade-b3c795d9 2s ease 2s forwards;z-index:1}@keyframes fade-b3c795d9{0%{opacity:0}to{opacity:1}}\n/*$vite$:1*/',document.head.appendChild(n);var Y=["src"],H={class:"cover",style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:z,alt:""},L={class:"basic-info"},q={class:"info-box"},N={key:0,class:"game-info"},O={key:1},J={class:"song"},T={key:2},$={class:"playing-container"},A={class:"process-box"},B={class:"lyric-info"},E={key:0,class:"lyric-box"},V={class:"original"},W={class:"translated"},X={key:1,class:"lyric-empty"};o("default",P({__name:"Home1",setup:function(o){var n=a(),z=i(JSON.parse(localStorage.getItem("extraInfo"))),P=t(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),F=t(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),G=t(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),K=t([]),M=e(function(){for(var o,a=(null===(o=n.songData)||void 0===o||null===(o=o.player)||void 0===o?void 0:o.seekbarCurrentPositionHuman.split(":"))||0,i=60*parseInt(a[0])+parseInt(a[1]),t=-1,e=n.lyricData.lyric.length-1;e>=0;e--){var r=n.lyricData.lyric[e][1].match(/\[(\d+):(\d+)\.(\d+)\]/);if(r&&i>=60*parseInt(r[1])+parseInt(r[2])){t=e;break}}var l=0;l=0===n.lyricData.translatedLyric.length?73*-(t-1):110*-t;var c=document.querySelector(".lyric-box");return c&&(c.style.transform="translateY(".concat(l,"px)")),t});return JSON.parse(localStorage.getItem("isCustomColor"))||r(function(){var o;return null===(o=n.songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.cover},function(o,a){var i,t,e;o&&o!==a&&(t=new _,(e=new Image).src=I(null===(i=n.songData)||void 0===i||null===(i=i.track)||void 0===i?void 0:i.cover),e.onload=function(){var o=t.getColor(e);P.value="rgba(".concat(o.join(","),", 1)"),F.value="rgba(".concat(o.map(function(o){return 255-o}).join(","),", 1)"),G.value="rgba(".concat(o.map(function(o){return 255-o}).join(","),", 1)"),K.value=t.getPalette(e).map(function(o){return"rgba(".concat(o.join(","),", 1)")})})}),l(function(){n.resetSongData()}),function(o,a){return f(),c(d(S),{width:1880,height:300,"box-style":{backgroundColor:"none"}},{default:s(function(){var o,i,t,e,r,l,I,_,S,Q,R,U;return[g("div",{class:"song-container",style:u({"--theme-color":P.value,"--text-color":F.value,"--bg-color":K.value[2]||F.value,"--shadow-color":G.value,"--stress-color":K.value[3]})},[b(p(v,{name:"fade",mode:"out-in"},{default:s(function(){var o,a;return[(f(),x("img",{id:"cover",class:"cover",key:null===(o=d(n).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.cover,src:null===(a=d(n).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.cover,alt:"封面"},null,8,Y))]}),_:1},512),[[y,null===(o=d(n).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.cover]]),b(g("img",H,null,512),[[y,!(null!==(i=d(n).songData)&&void 0!==i&&null!==(i=i.track)&&void 0!==i&&i.cover)]]),g("div",L,[g("div",q,[z.some(function(o){return o.length>0})?(f(),x("div",N,[z[0].length>0?(f(),c(C,{key:0,"is-bold":"",color:F.value,"content-align":"center"},{default:s(function(){return[m(w(z[0][0]),1)]}),_:1},8,["color"])):h("",!0),z[1].length>0?(f(),x("div",O,[p(C,{color:F.value,"content-align":"space-around"},{default:s(function(){return[(f(!0),x(k,null,D(z[1].join(" | ").split(" "),function(o,n){return f(),x("span",{key:n},w(o),1)}),128))]}),_:1},8,["color"])])):h("",!0)])):h("",!0),g("div",{class:j(["song-info",{"song-info2":0===z.length}])},[g("div",J,[null!==(t=d(n).songData)&&void 0!==t&&null!==(t=t.track)&&void 0!==t&&t.title?(f(),c(C,{key:0,color:F.value,"is-bold":"bold"},{default:s(function(){var o;return[m(w(null===(o=d(n).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.title),1)]}),_:1},8,["color"])):h("",!0),null!==(e=d(n).songData)&&void 0!==e&&null!==(e=e.track)&&void 0!==e&&e.author?(f(),c(C,{key:1,color:F.value,"font-size":"35px"},{default:s(function(){var o;return[m(w(null===(o=d(n).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.author),1)]}),_:1},8,["color"])):h("",!0),null!==(r=d(n).songData)&&void 0!==r&&null!==(r=r.track)&&void 0!==r&&r.title||null!==(l=d(n).songData)&&void 0!==l&&null!==(l=l.track)&&void 0!==l&&l.author?h("",!0):(f(),x("span",T,"暂无歌曲信息"))]),g("div",$,[g("div",{class:"sun",style:u({"animation-play-state":null!==(I=d(n).songData)&&void 0!==I&&null!==(I=I.player)&&void 0!==I&&I.isPaused?"paused":"running"})},[g("div",{class:"sun-body",style:u({"animation-play-state":null!==(_=d(n).songData)&&void 0!==_&&null!==(_=_.player)&&void 0!==_&&_.isPaused?"paused":"running"})},[(f(),x(k,null,D(8,function(o){return g("div",{class:"line",key:o,style:u({"--i":o})},null,4)}),64))],4),g("div",{class:"eye",style:u({"animation-play-state":null!==(S=d(n).songData)&&void 0!==S&&null!==(S=S.player)&&void 0!==S&&S.isPaused?"paused":"running"})},null,4)],4),a[0]||(a[0]=g("div",{class:"horizon"},null,-1))])],2)]),g("div",A,[g("span",null,w(null===(Q=d(n).songData)||void 0===Q||null===(Q=Q.player)||void 0===Q?void 0:Q.seekbarCurrentPositionHuman),1),g("div",{class:"process-bar",style:u({"--bg-color":K.value[2]||P.value,"--stress-color":K.value[3]||F.value,"--process":(null===(R=d(n).songData)||void 0===R||null===(R=R.player)||void 0===R?void 0:R.statePercent)||0})},null,4),g("span",null,w(null===(U=d(n).songData)||void 0===U||null===(U=U.track)||void 0===U?void 0:U.durationHuman),1)])]),g("div",B,[d(n).lyricData.lyric.length>0?(f(),x("div",E,[0===d(n).lyricData.translatedLyric.length?(f(!0),x(k,{key:0},D(d(n).lyricData.lyric,function(o,n){return f(),x("div",{class:j(["lyric-line",{active:n===M.value}]),key:n},[g("span",null,w(o[2]),1)],2)}),128)):(f(!0),x(k,{key:1},D(d(n).lyricData.lyric,function(o,a){var i,t;return f(),x("div",{class:j(["lyric-line-translated",{active:a===M.value}]),key:a},[g("span",V,w(null!==(i=d(n).lyricData.translatedLyric.find(function(o){return o[1]===d(n).lyricData.lyric[a][1]}))&&void 0!==i&&i[2]?o[2]:""),1),g("span",W,w((null===(t=d(n).lyricData.translatedLyric.find(function(o){return o[1]===d(n).lyricData.lyric[a][1]}))||void 0===t?void 0:t[2])||o[2]),1)],2)}),128))])):(f(),x("div",X,"暂无歌词"))])],4)]}),_:1})}}},[["__scopeId","data-v-b3c795d9"]]))}}});
