System.register(["./index-legacy-C9uxzo2n.js","./music-legacy-BPB2c-WN.js","./cover-legacy-BlVuG08V.js","./overflowText-legacy-8f-tOtf8.js","./v-scale-screen-legacy-7eB_0Oi9.js","./plugin-vueexport-helper-legacy-DCWa1RRI.js"],function(o,a){"use strict";var n,e,t,i,r,l,c,s,d,v,u,g,f,b,p,y,x,h,m,k,w,D,z,j,C,I,_,S;return{setters:[function(o){n=o.bS,e=o.av,t=o.r,i=o.c,r=o.w,l=o.o,c=o.N,s=o.B,d=o.u,v=o.s,u=o.v,g=o.x,f=o.an,b=o.y,p=o.ap,y=o.p,x=o.q,h=o.A,m=o.O,k=o.W,w=o.V,D=o.X},function(o){z=o._},function(o){j=o.g,C=o.u},function(o){I=o.o},function(o){_=o.T},function(o){S=o._}],execute:function(){var a=document.createElement("style");a.textContent='@keyframes rotate-956b6e97{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.song-container .lyric-info[data-v-956b6e97],.song-container .basic-info>div[data-v-956b6e97],.song-container .cover[data-v-956b6e97]{border-radius:10px;transition:box-shadow 2s ease,filter 2s ease;filter:drop-shadow(0 4px 10px var(--shadow-color))}.song-container[data-v-956b6e97]{height:200px;width:1800px;margin:40px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:15px;transition:background-color 2s ease,color 2s ease}.song-container .cover[data-v-956b6e97]{height:100%;aspect-ratio:1/1;background-color:var(--theme-color)}.song-container .cover.changing[data-v-956b6e97]{animation:fade-scale-956b6e97 1s ease;transform-origin:50% 0%}@keyframes fade-scale-956b6e97{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.song-container .basic-info[data-v-956b6e97]{height:100%;width:500px;display:flex;flex-direction:column;justify-content:space-between;gap:10px}.song-container .basic-info>div[data-v-956b6e97]{box-sizing:border-box;padding:0 20px;background-color:var(--theme-color);transition:background-color 2s ease;display:flex;flex-direction:row;justify-content:center;align-items:center}.song-container .basic-info .game-info[data-v-956b6e97]{flex:1;width:100%}.song-container .basic-info .game-info>div[data-v-956b6e97]{width:100%;animation:fade-scale-956b6e97 1s ease}.song-container .basic-info .game-info span[data-v-956b6e97]{font-size:42px;white-space:nowrap;color:var(--text-color);transition:color 2s ease}.song-container .basic-info .song-info[data-v-956b6e97]{flex:1;width:100%;display:flex;flex-direction:row;justify-content:space-around;align-items:center;gap:20px}.song-container .basic-info .song-info span[data-v-956b6e97]{font-size:42px;font-weight:700;color:var(--text-color);transition:color 2s ease}.song-container .basic-info .song-info2[data-v-956b6e97]{flex:1;width:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:flex-start}.song-container .basic-info .song-info2>div[data-v-956b6e97]{width:100%}.song-container .basic-info .song-info2 span[data-v-956b6e97]{font-size:42px;font-weight:700;color:var(--text-color)}.song-container .basic-info svg[data-v-956b6e97]{color:var(--text-color)}.song-container .basic-info .process-box[data-v-956b6e97]{width:100%;box-sizing:border-box;padding:5px 20px;background-color:var(--theme-color);transition:background-color 2s ease;display:flex;justify-content:space-between;align-items:center;gap:15px}.song-container .basic-info .process-box span[data-v-956b6e97]{font-size:35px;font-weight:600;color:var(--text-color);transition:color 2s ease}.song-container .basic-info .process-box .process-bar[data-v-956b6e97]{flex:1;position:relative;height:20px;border-radius:14px;overflow:hidden;background-color:var(--bg-color);border:4px solid var(--bg-color);transition:background-color 2s ease,border-color 2s ease}.song-container .basic-info .process-box .process-bar[data-v-956b6e97]:before{content:"";position:absolute;top:0;left:0;height:inherit;width:calc(var(--process) * 100%);background-color:var(--stress-color);transition:width .5s ease,background-color 2s ease}.song-container .lyric-info[data-v-956b6e97]{height:100%;flex:1;box-sizing:border-box;padding:0 20px;background-color:var(--theme-color);transition:background-color 2s ease;overflow:hidden;position:relative}.song-container .lyric-info .lyric-box[data-v-956b6e97]{width:100%;transition:transform .5s ease}.song-container .lyric-info .lyric-box .lyric-line[data-v-956b6e97]{height:67px;width:100%;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;color:var(--text-color);font-size:42px;opacity:.8;transition:all .5s ease-in-out;z-index:2}.song-container .lyric-info .lyric-box .lyric-line span[data-v-956b6e97]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.song-container .lyric-info .lyric-box .lyric-line.active[data-v-956b6e97]{opacity:1;font-size:52px;font-weight:700}.song-container .lyric-info .lyric-box .lyric-line[data-v-956b6e97]:not(.active){filter:blur(1px)}.song-container .lyric-info .lyric-box .lyric-line-translated[data-v-956b6e97]{height:100px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-around;box-sizing:border-box;padding:10px 0;color:var(--text-color);font-size:38px;opacity:.8;transition:all .5s ease-in-out;z-index:2}.song-container .lyric-info .lyric-box .lyric-line-translated span[data-v-956b6e97]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:visible;transition:all .5s ease-in-out;flex:1}.song-container .lyric-info .lyric-box .lyric-line-translated.active[data-v-956b6e97]{opacity:1;font-weight:700}.song-container .lyric-info .lyric-box .lyric-line-translated.active .original[data-v-956b6e97]{font-size:45px;transform:translateY(10px);opacity:.8;filter:blur(2px)}.song-container .lyric-info .lyric-box .lyric-line-translated.active .translated[data-v-956b6e97]{font-size:55px;transform:translateY(-10px)}.song-container .lyric-info .lyric-box .lyric-line-translated[data-v-956b6e97]:not(.active){filter:blur(1px)}.song-container .lyric-info .lyric-empty[data-v-956b6e97]{width:100%;height:100%;display:flex;justify-content:flex-start;align-items:center;font-size:55px;font-weight:700;color:var(--text-color);transition:all .5s ease-in-out}.song-container .lyric-info .lyric-bg[data-v-956b6e97]{position:absolute;top:-30px;right:0;height:calc(100% + 60px);aspect-ratio:1/1}.song-container .lyric-info .lyric-bg img[data-v-956b6e97]{width:100%;height:100%;object-fit:cover;-webkit-mask-image:linear-gradient(to right,transparent,rgba(0,0,0,.8));mask-image:linear-gradient(to right,transparent,rgba(0,0,0,.8));filter:blur(3px);opacity:0;animation:fade-956b6e97 2s ease 2s forwards;z-index:1}@keyframes fade-956b6e97{0%{opacity:0}to{opacity:1}}\n/*$vite$:1*/',document.head.appendChild(a);var H=["src"],L={class:"basic-info"},P={key:0,class:"game-info"},N={key:0},O={key:1,class:"song-info"},T={key:1},Y={key:3},q={key:2,class:"song-info2"},J={key:2},$={class:"process-box"},A={class:"lyric-info"},B={key:0,class:"lyric-box"},E={class:"original"},V={class:"translated"},W={key:1,class:"lyric-empty"};o("default",S({__name:"Home2",setup:function(o){var a=n(),S=e(JSON.parse(localStorage.getItem("extraInfo"))),X=0,F=function(){var o=X;do{o=(o+1)%S.length}while(0===S[o].length&&o!==X);S[o].length>0&&(X=o),setTimeout(F,8e3)},G=t(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),K=t(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),M=t(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),Q=t([]),R=i(function(){for(var o,n=(null===(o=a.songData)||void 0===o||null===(o=o.player)||void 0===o?void 0:o.seekbarCurrentPositionHuman.split(":"))||0,e=60*parseInt(n[0])+parseInt(n[1]),t=-1,i=a.lyricData.lyric.length-1;i>=0;i--){var r=a.lyricData.lyric[i][1].match(/\[(\d+):(\d+)\.(\d+)\]/);if(r&&e>=60*parseInt(r[1])+parseInt(r[2])){t=i;break}}var l=0;l=0===a.lyricData.translatedLyric.length?67*-(t-1):100*-t;var c=document.querySelector(".lyric-box");return c&&(c.style.transform="translateY(".concat(l,"px)")),t});return JSON.parse(localStorage.getItem("isCustomColor"))||r(function(){var o;return null===(o=a.songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.cover},function(o,n){var e,t,i;o&&o!==n&&(t=new C,(i=new Image).src=j(null===(e=a.songData)||void 0===e||null===(e=e.track)||void 0===e?void 0:e.cover),i.onload=function(){var o=t.getColor(i);G.value="rgba(".concat(o.join(","),", 1)"),K.value="rgba(".concat(o.map(function(o){return 255-o}).join(","),", 1)"),M.value="rgba(".concat(o.map(function(o){return 255-o}).join(","),", 1)"),Q.value=t.getPalette(i).map(function(o){return"rgba(".concat(o.join(","),", 1)")})})}),l(function(){a.resetSongData(),F()}),function(o,n){return v(),c(d(_),{width:1880,height:280,"box-style":{backgroundColor:"none"}},{default:s(function(){var o,n,e,t,i,r,l,j,C,_,F,U,Z,oo,ao,no;return[u("div",{class:"song-container",style:g({"--theme-color":G.value,"--text-color":K.value,"--bg-color":Q.value[2]||K.value,"--shadow-color":M.value,"--stress-color":Q.value[3]})},[f(u("img",{id:"cover",class:b(["cover",{changing:d(a).isChanging}]),src:null===(o=d(a).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.cover,alt:"封面"},null,10,H),[[p,null===(n=d(a).songData)||void 0===n||null===(n=n.track)||void 0===n?void 0:n.cover]]),f(u("img",{class:b(["cover",{changing:d(a).isChanging}]),style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:z,alt:""},null,2),[[p,!(null!==(e=d(a).songData)&&void 0!==e&&null!==(e=e.track)&&void 0!==e&&e.cover)]]),u("div",L,[S.some(function(o){return o.length>0})?(v(),y("div",P,[(v(),y("div",{key:d(X)},[h(I,{color:K.value,"is-bold":"bold","content-align":"space-evenly"},{default:s(function(){return[(v(!0),y(m,null,k(S[d(X)],function(o,a){return v(),y(m,null,[u("span",null,w(o),1),a<S[d(X)].length-1?(v(),y("span",N,"|")):x("",!0)],64)}),256))]}),_:1},8,["color"])]))])):x("",!0),S.some(function(o){return 0!==o.length})?(v(),y("div",O,[null!==(t=d(a).songData)&&void 0!==t&&null!==(t=t.track)&&void 0!==t&&t.title?(v(),c(I,{key:0,color:K.value,"is-bold":"bold"},{default:s(function(){var o;return[D(w(null===(o=d(a).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.title),1)]}),_:1},8,["color"])):x("",!0),null!==(i=d(a).songData)&&void 0!==i&&null!==(i=i.track)&&void 0!==i&&i.title&&null!==(r=d(a).songData)&&void 0!==r&&null!==(r=r.track)&&void 0!==r&&r.author?(v(),y("span",T,"-")):x("",!0),null!==(l=d(a).songData)&&void 0!==l&&null!==(l=l.track)&&void 0!==l&&l.author?(v(),c(I,{key:2,color:K.value,"font-size":"35px"},{default:s(function(){var o;return[D(w(null===(o=d(a).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.author),1)]}),_:1},8,["color"])):x("",!0),null!==(j=d(a).songData)&&void 0!==j&&null!==(j=j.track)&&void 0!==j&&j.title||null!==(C=d(a).songData)&&void 0!==C&&null!==(C=C.track)&&void 0!==C&&C.author?x("",!0):(v(),y("span",Y,"暂无歌曲信息"))])):(v(),y("div",q,[null!==(_=d(a).songData)&&void 0!==_&&null!==(_=_.track)&&void 0!==_&&_.title?(v(),c(I,{key:0,color:K.value,"is-bold":"bold"},{default:s(function(){var o;return[D(w(null===(o=d(a).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.title),1)]}),_:1},8,["color"])):x("",!0),null!==(F=d(a).songData)&&void 0!==F&&null!==(F=F.track)&&void 0!==F&&F.author?(v(),c(I,{key:1,color:K.value,"font-size":"35px"},{default:s(function(){var o;return[D(w(null===(o=d(a).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.author),1)]}),_:1},8,["color"])):x("",!0),null!==(U=d(a).songData)&&void 0!==U&&null!==(U=U.track)&&void 0!==U&&U.title||null!==(Z=d(a).songData)&&void 0!==Z&&null!==(Z=Z.track)&&void 0!==Z&&Z.author?x("",!0):(v(),y("span",J,"暂无歌曲信息"))])),u("div",$,[u("span",null,w(null===(oo=d(a).songData)||void 0===oo||null===(oo=oo.player)||void 0===oo?void 0:oo.seekbarCurrentPositionHuman),1),u("div",{class:"process-bar",style:g({"--bg-color":Q.value[2]||G.value,"--stress-color":Q.value[3]||K.value,"--process":(null===(ao=d(a).songData)||void 0===ao||null===(ao=ao.player)||void 0===ao?void 0:ao.statePercent)||0})},null,4),u("span",null,w(null===(no=d(a).songData)||void 0===no||null===(no=no.track)||void 0===no?void 0:no.durationHuman),1)])]),u("div",A,[d(a).lyricData.lyric.length>0?(v(),y("div",B,[0===d(a).lyricData.translatedLyric.length?(v(!0),y(m,{key:0},k(d(a).lyricData.lyric,function(o,a){return v(),y("div",{class:b(["lyric-line",{active:a===R.value}]),key:a},[u("span",null,w(o[2]),1)],2)}),128)):(v(!0),y(m,{key:1},k(d(a).lyricData.lyric,function(o,n){var e,t;return v(),y("div",{class:b(["lyric-line-translated",{active:n===R.value}]),key:n},[u("span",E,w(null!==(e=d(a).lyricData.translatedLyric.find(function(o){return o[1]===d(a).lyricData.lyric[n][1]}))&&void 0!==e&&e[2]?o[2]:""),1),u("span",V,w((null===(t=d(a).lyricData.translatedLyric.find(function(o){return o[1]===d(a).lyricData.lyric[n][1]}))||void 0===t?void 0:t[2])||o[2]),1)],2)}),128))])):(v(),y("div",W,"暂无歌词"))])],4)]}),_:1})}}},[["__scopeId","data-v-956b6e97"]]))}}});
