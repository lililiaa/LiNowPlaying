System.register(["./index-legacy-BeXXXzdy.js","./music-legacy-BPB2c-WN.js","./cover-legacy-BlVuG08V.js","./v-scale-screen-legacy-D-rlwZWI.js","./plugin-vueexport-helper-legacy-DCWa1RRI.js"],function(a,t){"use strict";var e,n,o,i,r,l,c,s,d,u,v,g,y,p,f,x,m,h,b,w,k,D,z,j,C,I,S,_;return{setters:[function(a){e=a.c3,n=a.aK,o=a.a1,i=a.X,r=a.a3,l=a.a2,c=a.as,s=a.at,d=a.L,u=a.am,v=a.ap,g=a.aA,y=a.al,p=a.ao,f=a.bd,x=a.aq,m=a.az,h=a.aE,b=a.aF,w=a.an,k=a.aH,D=a.bb},function(a){z=a._},function(a){j=a.g,C=a.u},function(a){I=a.T,S=a.o},function(a){_=a._}],execute:function(){var t=document.createElement("style");t.textContent='.main .other-container .cover[data-v-6569162e],.main .other-container>div[data-v-6569162e]{border-radius:10px;transition:box-shadow 2s ease,filter 2s ease;filter:drop-shadow(0 4px 10px var(--shadow-color))}.main[data-v-6569162e]{width:1800px;height:800px;margin:40px;display:flex;flex-direction:row;gap:10px}.main .lyric-container[data-v-6569162e]{flex:1;box-sizing:border-box;padding-right:20px;overflow:hidden;-webkit-mask-image:linear-gradient(to bottom,rgba(0,0,0,.1),#000 20%,#000 80%,rgba(0,0,0,.1));mask-image:linear-gradient(to bottom,rgba(0,0,0,.1),#000 20%,#000 80%,rgba(0,0,0,.1))}.main .lyric-container .lyric-box[data-v-6569162e]{width:100%;transition:transform .5s ease}.main .lyric-container .lyric-box .lyric-line[data-v-6569162e]{height:100px;width:100%;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;color:var(--text-color);font-size:50px;opacity:.8;transition:all .5s ease-in-out;z-index:2;text-align:right}.main .lyric-container .lyric-box .lyric-line span[data-v-6569162e]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.main .lyric-container .lyric-box .lyric-line.active[data-v-6569162e]{opacity:1;font-size:70px;font-weight:700}.main .lyric-container .lyric-box .lyric-line[data-v-6569162e]:not(.active){filter:blur(1px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-6569162e]{height:160px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;padding:10px 0;color:var(--text-color);font-size:50px;opacity:.8;transition:all .5s ease-in-out;z-index:2;text-align:right}.main .lyric-container .lyric-box .lyric-line-translated span[data-v-6569162e]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:visible;transition:all .5s ease-in-out;flex:1}.main .lyric-container .lyric-box .lyric-line-translated.active[data-v-6569162e]{opacity:1;font-weight:700}.main .lyric-container .lyric-box .lyric-line-translated.active .original[data-v-6569162e]{font-size:55px;transform:translateY(20px);opacity:.8;filter:blur(2px)}.main .lyric-container .lyric-box .lyric-line-translated.active .translated[data-v-6569162e]{font-size:70px;transform:translateY(-20px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-6569162e]:not(.active){filter:blur(1px)}.main .lyric-container .lyric-empty[data-v-6569162e]{width:100%;height:100%;display:flex;justify-content:flex-end;align-items:center;font-size:70px;font-weight:700;color:var(--text-color);transition:all .5s ease-in-out}.main .other-container[data-v-6569162e]{width:25%;display:flex;flex-direction:column;justify-content:space-between;gap:15px}.main .other-container>div[data-v-6569162e]{padding:10px;box-sizing:border-box;width:100%;background-color:var(--theme-color);transition:background-color 2s ease}.main .other-container .cover[data-v-6569162e]{width:100%;aspect-ratio:1/1;background-color:var(--theme-color)}.main .other-container .cover.changing[data-v-6569162e]{animation:fade-scale-6569162e 1s ease;transform-origin:50% 0%}@keyframes fade-scale-6569162e{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.main .other-container .extra-container[data-v-6569162e]{width:100%;animation:fade-scale-6569162e 1s ease}.main .other-container .extra-container span[data-v-6569162e]{font-size:48px;font-weight:700;color:var(--text-color);transition:color 2s ease}.main .other-container .song-container[data-v-6569162e]{flex:1;width:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:flex-start;gap:10px;font-size:50px;color:var(--text-color)}.main .other-container .song-container>div[data-v-6569162e]{width:100%}.main .other-container .process-container[data-v-6569162e]{position:relative;height:30px;border-radius:15px;overflow:hidden;background-color:var(--theme-color);transition:background-color 2s ease,border-color 2s ease}.main .other-container .process-container[data-v-6569162e]:before{content:"";position:absolute;top:0;left:0;height:inherit;border-radius:15px;width:calc(var(--process) * 100%);background-color:var(--stress-color);transition:width .5s ease,background-color 2s ease}\n/*$vite$:1*/',document.head.appendChild(t);var L={class:"lyric-container"},P={key:0,class:"lyric-box"},H={class:"original"},Y={class:"translated"},q={key:1,class:"lyric-empty"},E={class:"other-container"},J=["src"],N={key:0,class:"extra-container"},O={key:0},$={class:"song-container"},A={key:2};a("default",_({__name:"Home3",setup:function(a){var t=e(),_=n(JSON.parse(localStorage.getItem("extraInfo"))),F=o(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),K=o(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),T=o(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),X=o([]),B=i(function(){for(var a,e=(null===(a=t.songData)||void 0===a||null===(a=a.player)||void 0===a?void 0:a.seekbarCurrentPositionHuman.split(":"))||0,n=60*parseInt(e[0])+parseInt(e[1]),o=-1,i=t.lyricData.lyric.length-1;i>=0;i--){var r=t.lyricData.lyric[i][1].match(/\[(\d+):(\d+)\.(\d+)\]/);if(r&&n>=60*parseInt(r[1])+parseInt(r[2])){o=i;break}}var l=0;l=0===t.lyricData.translatedLyric.length?100*-(o-3):160*-(o-2);var c=document.querySelector(".lyric-box");return c&&(c.style.transform="translateY(".concat(l,"px)")),o});JSON.parse(localStorage.getItem("isCustomColor"))||r(function(){var a;return null===(a=t.songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.cover},function(a,e){var n,o,i;a&&a!==e&&(o=new C,(i=new Image).src=j(null===(n=t.songData)||void 0===n||null===(n=n.track)||void 0===n?void 0:n.cover),i.onload=function(){var a=o.getColor(i);F.value="rgba(".concat(a.join(","),", 1)"),K.value="rgba(".concat(a.map(function(a){return 255-a}).join(","),", 1)"),T.value="rgba(".concat(a.map(function(a){return 255-a}).join(","),", 1)"),X.value=o.getPalette(i).map(function(a){return"rgba(".concat(a.join(","),", 1)")})})});var G=n({status:"已暂停",name:"暂无歌曲"}),M=function(){G.status&&G.name?document.title=G.status+" - "+G.name:document.title="歌曲组件"};return r(function(){var a;return null===(a=t.songData)||void 0===a||null===(a=a.player)||void 0===a?void 0:a.isPaused},function(a){G.status=a?"已暂停":"播放中",M()}),r(function(){var a;return null===(a=t.songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.title},function(a){G.name=a,M()}),l(function(){M(),t.resetSongData()}),function(a,e){return u(),c(d(I),{width:1880,height:880,"box-style":{backgroundColor:"none"}},{default:s(function(){var a,e,n,o,i,r,l,j;return[v("div",{class:"main",style:g({"--theme-color":F.value,"--text-color":K.value,"--bg-color":X.value[2]||K.value,"--shadow-color":T.value,"--stress-color":X.value[3]})},[v("div",L,[d(t).lyricData.lyric.length>0?(u(),y("div",P,[0===d(t).lyricData.translatedLyric.length?(u(!0),y(p,{key:0},f(d(t).lyricData.lyric,function(a,t){return u(),y("div",{class:x(["lyric-line",{active:t===B.value}]),key:t},[v("span",null,m(a[2]),1)],2)}),128)):(u(!0),y(p,{key:1},f(d(t).lyricData.lyric,function(a,e){var n,o;return u(),y("div",{class:x(["lyric-line-translated",{active:e===B.value}]),key:e},[v("span",H,m(null!==(n=d(t).lyricData.translatedLyric.find(function(a){return a[1]===d(t).lyricData.lyric[e][1]}))&&void 0!==n&&n[2]?a[2]:""),1),v("span",Y,m((null===(o=d(t).lyricData.translatedLyric.find(function(a){return a[1]===d(t).lyricData.lyric[e][1]}))||void 0===o?void 0:o[2])||a[2]),1)],2)}),128))])):(u(),y("div",q,"暂无歌词"))]),v("div",E,[h(v("img",{id:"cover",class:x(["cover",{changing:d(t).isChanging}]),src:null===(a=d(t).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.cover,alt:"封面"},null,10,J),[[b,null===(e=d(t).songData)||void 0===e||null===(e=e.track)||void 0===e?void 0:e.cover]]),h(v("img",{class:x(["cover",{changing:d(t).isChanging}]),style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:z,alt:""},null,2),[[b,!(null!==(n=d(t).songData)&&void 0!==n&&null!==(n=n.track)&&void 0!==n&&n.cover)]]),(u(!0),y(p,null,f(_,function(a,t){return u(),y(p,{key:t},[a.length>0?(u(),y("div",N,[k(S,{color:K.value,"content-align":"space-evenly"},{default:s(function(){return[(u(!0),y(p,null,f(a,function(t,e){return u(),y(p,null,[v("span",null,m(t),1),e<a.length-1?(u(),y("span",O,"|")):w("",!0)],64)}),256))]}),_:2},1032,["color"])])):w("",!0)],64)}),128)),v("div",$,[null!==(o=d(t).songData)&&void 0!==o&&null!==(o=o.track)&&void 0!==o&&o.title?(u(),c(S,{key:0,color:K.value,"is-bold":"bold","font-size":"50px"},{default:s(function(){var a;return[D(m(null===(a=d(t).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.title),1)]}),_:1},8,["color"])):w("",!0),null!==(i=d(t).songData)&&void 0!==i&&null!==(i=i.track)&&void 0!==i&&i.author?(u(),c(S,{key:1,color:K.value,"font-size":"40px"},{default:s(function(){var a;return[D(m(null===(a=d(t).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.author),1)]}),_:1},8,["color"])):w("",!0),null!==(r=d(t).songData)&&void 0!==r&&null!==(r=r.track)&&void 0!==r&&r.title||null!==(l=d(t).songData)&&void 0!==l&&null!==(l=l.track)&&void 0!==l&&l.author?w("",!0):(u(),y("span",A,"暂无歌曲信息"))]),v("div",{class:"process-container",style:g({"--bg-color":X.value[2]||F.value,"--stress-color":X.value[3]||K.value,"--process":(null===(j=d(t).songData)||void 0===j||null===(j=j.player)||void 0===j?void 0:j.statePercent)||0})},null,4)])],4)]}),_:1})}}},[["__scopeId","data-v-6569162e"]]))}}});
