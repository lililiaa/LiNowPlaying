System.register(["./index-legacy-C9uxzo2n.js","./music-legacy-BPB2c-WN.js","./cover-legacy-BlVuG08V.js","./overflowText-legacy-8f-tOtf8.js","./v-scale-screen-legacy-7eB_0Oi9.js","./plugin-vueexport-helper-legacy-DCWa1RRI.js"],function(n,a){"use strict";var t,o,e,i,r,c,l,s,d,p,v,b,u,f,g,x,y,m,h,w,k,D,z,j,C,I,S,_;return{setters:[function(n){t=n.bS,o=n.av,e=n.r,i=n.c,r=n.w,c=n.o,l=n.N,s=n.B,d=n.u,p=n.s,v=n.v,b=n.x,u=n.an,f=n.y,g=n.ap,x=n.p,y=n.q,m=n.X,h=n.V,w=n.A,k=n.O,D=n.W},function(n){z=n._},function(n){j=n.g,C=n.u},function(n){I=n.o},function(n){S=n.T},function(n){_=n._}],execute:function(){var a=document.createElement("style");a.textContent='.main .top-container .info-container .process-box[data-v-cc57bedb],.main .top-container .bg-box[data-v-cc57bedb],.main .top-container .cover[data-v-cc57bedb]{border-radius:10px;transition:box-shadow 2s ease,filter 2s ease;filter:drop-shadow(0 4px 10px var(--shadow-color))}.main[data-v-cc57bedb]{width:1200px;height:400px;margin:40px;display:flex;flex-direction:column;gap:10px}.main .top-container[data-v-cc57bedb]{width:100%;height:190px;display:flex;justify-content:space-between;gap:15px}.main .top-container .cover[data-v-cc57bedb]{height:100%;aspect-ratio:1/1;background-color:var(--theme-color)}.main .top-container .cover.changing[data-v-cc57bedb]{animation:fade-scale-cc57bedb 1s ease;transform-origin:50% 0%}@keyframes fade-scale-cc57bedb{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.main .top-container .bg-box[data-v-cc57bedb]{box-sizing:border-box;padding:10px 20px;background-color:var(--theme-color);transition:background-color 2s ease}.main .top-container .info-container[data-v-cc57bedb]{flex:1;width:0;height:100%;display:flex;flex-direction:column;gap:15px}.main .top-container .info-container .top-info[data-v-cc57bedb]{flex:1;width:100%;display:flex;gap:15px}.main .top-container .info-container .top-info .game-info[data-v-cc57bedb]{height:100%;width:fit-content;max-width:500px;display:flex;flex-direction:column;justify-content:space-around;align-items:center;box-sizing:border-box}.main .top-container .info-container .top-info .game-info span[data-v-cc57bedb]{white-space:nowrap;color:var(--text-color);font-size:35px;transition:color 2s ease}.main .top-container .info-container .top-info .game-info>span[data-v-cc57bedb]:nth-child(1){width:100%;display:flex;justify-content:space-around;align-items:center;gap:10px;font-size:48px;font-weight:700;letter-spacing:2px}.main .top-container .info-container .top-info .game-info div[data-v-cc57bedb]{width:100%;display:flex;flex-direction:row;justify-content:space-between;gap:10px}.main .top-container .info-container .top-info .game-info div span[data-v-cc57bedb]{font-size:35px}.main .top-container .info-container .top-info .song-info[data-v-cc57bedb]{flex:1;width:0;display:flex;flex-direction:column;justify-content:space-around}.main .top-container .info-container .top-info .song-info span[data-v-cc57bedb]{font-size:48px;font-weight:700;color:var(--text-color)}.main .top-container .info-container .process-box[data-v-cc57bedb]{width:100%;box-sizing:border-box;padding:8px 20px;background-color:var(--theme-color);transition:background-color 2s ease;display:flex;justify-content:space-between;align-items:center;gap:20px}.main .top-container .info-container .process-box span[data-v-cc57bedb]{font-size:35px;font-weight:600;color:var(--text-color);transition:color 2s ease}.main .top-container .info-container .process-box .process-bar[data-v-cc57bedb]{flex:1;position:relative;height:20px;border-radius:14px;overflow:hidden;background-color:var(--bg-color);border:4px solid var(--bg-color);transition:background-color 2s ease,border-color 2s ease}.main .top-container .info-container .process-box .process-bar[data-v-cc57bedb]:before{content:"";position:absolute;top:0;left:0;height:inherit;width:calc(var(--process) * 100%);background-color:var(--stress-color);transition:width .5s ease,background-color 2s ease}.main .lyric-container[data-v-cc57bedb]{width:100%;height:200px;box-sizing:border-box;padding:0 10px;overflow:hidden;-webkit-mask-image:linear-gradient(to bottom,#000,#000 80%,rgba(0,0,0,.1));mask-image:linear-gradient(to bottom,#000,#000 80%,rgba(0,0,0,.1))}.main .lyric-container .lyric-box[data-v-cc57bedb]{width:100%;transition:transform .5s ease}.main .lyric-container .lyric-box .lyric-line[data-v-cc57bedb]{height:67px;width:100%;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;color:var(--text-color);font-size:40px;opacity:.8;transition:all .5s ease-in-out;z-index:2;text-align:center}.main .lyric-container .lyric-box .lyric-line span[data-v-cc57bedb]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.main .lyric-container .lyric-box .lyric-line.active[data-v-cc57bedb]{opacity:1;font-size:60px;font-weight:700}.main .lyric-container .lyric-box .lyric-line[data-v-cc57bedb]:not(.active){filter:blur(1px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-cc57bedb]{height:100px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;padding:20px 0;color:var(--text-color);font-size:40px;opacity:.8;transition:all .5s ease-in-out;z-index:2;text-align:center}.main .lyric-container .lyric-box .lyric-line-translated span[data-v-cc57bedb]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:visible;transition:all .5s ease-in-out;flex:1}.main .lyric-container .lyric-box .lyric-line-translated.active[data-v-cc57bedb]{opacity:1;font-weight:700}.main .lyric-container .lyric-box .lyric-line-translated.active .original[data-v-cc57bedb]{font-size:50px;transform:translateY(10px);opacity:.8;filter:blur(2px)}.main .lyric-container .lyric-box .lyric-line-translated.active .translated[data-v-cc57bedb]{font-size:60px;transform:translateY(-10px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-cc57bedb]:not(.active){filter:blur(1px)}.main .lyric-container .lyric-empty[data-v-cc57bedb]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:60px;font-weight:700;color:var(--text-color);transition:all .5s ease-in-out}\n/*$vite$:1*/',document.head.appendChild(a);var H={class:"top-container"},L=["src"],P={class:"info-container"},N={class:"top-info"},O={key:0,class:"game-info bg-box"},Y={key:1},q={class:"song-info bg-box"},J={key:2},T={class:"process-box"},$={class:"lyric-container"},A={key:0,class:"lyric-box"},B={class:"original"},E={class:"translated"},V={key:1,class:"lyric-empty"};n("default",_({__name:"Home4",setup:function(n){var a=t(),_=o(JSON.parse(localStorage.getItem("extraInfo"))),W=e(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),X=e(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),F=e(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),G=e([]),K=i(function(){for(var n,t=(null===(n=a.songData)||void 0===n||null===(n=n.player)||void 0===n?void 0:n.seekbarCurrentPositionHuman.split(":"))||0,o=60*parseInt(t[0])+parseInt(t[1]),e=-1,i=a.lyricData.lyric.length-1;i>=0;i--){var r=a.lyricData.lyric[i][1].match(/\[(\d+):(\d+)\.(\d+)\]/);if(r&&o>=60*parseInt(r[1])+parseInt(r[2])){e=i;break}}var c=0;c=0===a.lyricData.translatedLyric.length?67*-(e-1):100*-e;var l=document.querySelector(".lyric-box");return l&&(l.style.transform="translateY(".concat(c,"px)")),e});return JSON.parse(localStorage.getItem("isCustomColor"))||r(function(){var n;return null===(n=a.songData)||void 0===n||null===(n=n.track)||void 0===n?void 0:n.cover},function(n,t){var o,e,i;n&&n!==t&&(e=new C,(i=new Image).src=j(null===(o=a.songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.cover),i.onload=function(){var n=e.getColor(i);W.value="rgba(".concat(n.join(","),", 1)"),X.value="rgba(".concat(n.map(function(n){return 255-n}).join(","),", 1)"),F.value="rgba(".concat(n.map(function(n){return 255-n}).join(","),", 1)"),G.value=e.getPalette(i).map(function(n){return"rgba(".concat(n.join(","),", 1)")})})}),c(function(){a.resetSongData()}),function(n,t){return p(),l(d(S),{width:1280,height:480,"box-style":{backgroundColor:"none"}},{default:s(function(){var n,t,o,e,i,r,c,j,C,S;return[v("div",{class:"main",style:b({"--theme-color":W.value,"--text-color":X.value,"--bg-color":G.value[2]||X.value,"--shadow-color":F.value,"--stress-color":G.value[3]})},[v("div",H,[u(v("img",{id:"cover",class:f(["cover",{changing:d(a).isChanging}]),src:null===(n=d(a).songData)||void 0===n||null===(n=n.track)||void 0===n?void 0:n.cover,alt:"封面"},null,10,L),[[g,null===(t=d(a).songData)||void 0===t||null===(t=t.track)||void 0===t?void 0:t.cover]]),u(v("img",{class:f(["cover",{changing:d(a).isChanging}]),style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:z,alt:""},null,2),[[g,!(null!==(o=d(a).songData)&&void 0!==o&&null!==(o=o.track)&&void 0!==o&&o.cover)]]),v("div",P,[v("div",N,[_.some(function(n){return n.length>0})?(p(),x("div",O,[_[0].length>0?(p(),l(I,{key:0,color:X.value,"content-align":"center"},{default:s(function(){return[m(h(_[0][0]),1)]}),_:1},8,["color"])):y("",!0),_[1].length>0?(p(),x("div",Y,[w(I,{color:X.value,"content-align":"space-evenly"},{default:s(function(){return[(p(!0),x(k,null,D(_[1].join(" | ").split(" "),function(n,a){return p(),x("span",{key:a},h(n),1)}),128))]}),_:1},8,["color"])])):y("",!0)])):y("",!0),v("div",q,[null!==(e=d(a).songData)&&void 0!==e&&null!==(e=e.track)&&void 0!==e&&e.title?(p(),l(I,{key:0,color:X.value,"is-bold":"bold"},{default:s(function(){var n;return[m(h(null===(n=d(a).songData)||void 0===n||null===(n=n.track)||void 0===n?void 0:n.title),1)]}),_:1},8,["color"])):y("",!0),null!==(i=d(a).songData)&&void 0!==i&&null!==(i=i.track)&&void 0!==i&&i.author?(p(),l(I,{key:1,color:X.value,"font-size":"35px"},{default:s(function(){var n;return[m(h(null===(n=d(a).songData)||void 0===n||null===(n=n.track)||void 0===n?void 0:n.author),1)]}),_:1},8,["color"])):y("",!0),null!==(r=d(a).songData)&&void 0!==r&&null!==(r=r.track)&&void 0!==r&&r.title||null!==(c=d(a).songData)&&void 0!==c&&null!==(c=c.track)&&void 0!==c&&c.author?y("",!0):(p(),x("span",J,"暂无歌曲信息"))])]),v("div",T,[v("span",null,h(null===(j=d(a).songData)||void 0===j||null===(j=j.player)||void 0===j?void 0:j.seekbarCurrentPositionHuman),1),v("div",{class:"process-bar",style:b({"--bg-color":G.value[2]||W.value,"--stress-color":G.value[3]||X.value,"--process":(null===(C=d(a).songData)||void 0===C||null===(C=C.player)||void 0===C?void 0:C.statePercent)||0})},null,4),v("span",null,h(null===(S=d(a).songData)||void 0===S||null===(S=S.track)||void 0===S?void 0:S.durationHuman),1)])])]),v("div",$,[d(a).lyricData.lyric.length>0?(p(),x("div",A,[0===d(a).lyricData.translatedLyric.length?(p(!0),x(k,{key:0},D(d(a).lyricData.lyric,function(n,a){return p(),x("div",{class:f(["lyric-line",{active:a===K.value}]),key:a},[v("span",null,h(n[2]),1)],2)}),128)):(p(!0),x(k,{key:1},D(d(a).lyricData.lyric,function(n,t){var o,e;return p(),x("div",{class:f(["lyric-line-translated",{active:t===K.value}]),key:t},[v("span",B,h(null!==(o=d(a).lyricData.translatedLyric.find(function(n){return n[1]===d(a).lyricData.lyric[t][1]}))&&void 0!==o&&o[2]?n[2]:""),1),v("span",E,h((null===(e=d(a).lyricData.translatedLyric.find(function(n){return n[1]===d(a).lyricData.lyric[t][1]}))||void 0===e?void 0:e[2])||n[2]),1)],2)}),128))])):(p(),x("div",V,"暂无歌词"))])],4)]}),_:1})}}},[["__scopeId","data-v-cc57bedb"]]))}}});
