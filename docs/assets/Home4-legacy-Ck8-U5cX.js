System.register(["./index-legacy-oa_uyP2R.js","./music-legacy-BPB2c-WN.js","./cover-legacy-BlVuG08V.js","./overflowText-legacy-DhTnJhVJ.js","./v-scale-screen-legacy-BMWQeUeJ.js","./plugin-vueexport-helper-legacy-DCWa1RRI.js"],function(a,t){"use strict";var o,n,e,i,r,l,c,s,d,v,p,u,f,g,b,y,x,m,h,w,k,D,j,z,I,_,C,S,H;return{setters:[function(a){o=a.bS,n=a.av,e=a.r,i=a.c,r=a.w,l=a.o,c=a.N,s=a.B,d=a.u,v=a.s,p=a.v,u=a.x,f=a.an,g=a.A,b=a.aq,y=a.p,x=a.ap,m=a.q,h=a.X,w=a.V,k=a.O,D=a.W,j=a.y},function(a){z=a._},function(a){I=a.g,_=a.u},function(a){C=a.o},function(a){S=a.T},function(a){H=a._}],execute:function(){var t=document.createElement("style");t.textContent='.main .top-container .info-container .process-box[data-v-168b8592],.main .top-container .bg-box[data-v-168b8592],.main .top-container .cover[data-v-168b8592]{border-radius:10px;transition:box-shadow 2s ease,filter 2s ease;filter:drop-shadow(0 4px 10px var(--shadow-color))}.fade-enter-from[data-v-168b8592],.fade-leave-to[data-v-168b8592]{opacity:0}.main[data-v-168b8592]{width:1200px;height:400px;margin:40px;display:flex;flex-direction:column;gap:10px}.main .top-container[data-v-168b8592]{width:100%;height:190px;display:flex;justify-content:space-between;gap:15px}.main .top-container .cover[data-v-168b8592]{height:100%;aspect-ratio:1/1;background-color:var(--theme-color);transition:opacity .5s ease}@keyframes fade-scale-168b8592{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.main .top-container .bg-box[data-v-168b8592]{box-sizing:border-box;padding:0 20px;background-color:var(--theme-color);transition:background-color 2s ease}.main .top-container .info-container[data-v-168b8592]{flex:1;width:0;height:100%;display:flex;flex-direction:column;gap:15px}.main .top-container .info-container .top-info[data-v-168b8592]{flex:1;width:100%;display:flex;gap:15px}.main .top-container .info-container .top-info .game-info[data-v-168b8592]{height:100%;width:fit-content;max-width:500px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;box-sizing:border-box}.main .top-container .info-container .top-info .game-info span[data-v-168b8592]{white-space:nowrap;color:var(--text-color);font-size:35px;transition:color 2s ease}.main .top-container .info-container .top-info .game-info>span[data-v-168b8592]:nth-child(1){width:100%;display:flex;justify-content:space-around;align-items:center;gap:10px;font-size:48px;font-weight:700;letter-spacing:2px}.main .top-container .info-container .top-info .game-info div[data-v-168b8592]{width:100%;display:flex;flex-direction:row;justify-content:space-between;gap:10px}.main .top-container .info-container .top-info .game-info div span[data-v-168b8592]{font-size:35px}.main .top-container .info-container .top-info .song-info[data-v-168b8592]{flex:1;width:0;display:flex;flex-direction:column;justify-content:space-evenly}.main .top-container .info-container .top-info .song-info span[data-v-168b8592]{font-size:48px;font-weight:700;color:var(--text-color)}.main .top-container .info-container .process-box[data-v-168b8592]{width:100%;box-sizing:border-box;padding:0 20px;background-color:var(--theme-color);transition:background-color 2s ease;display:flex;justify-content:space-between;align-items:center;gap:20px}.main .top-container .info-container .process-box span[data-v-168b8592]{font-size:35px;font-weight:600;color:var(--text-color);transition:color 2s ease}.main .top-container .info-container .process-box .process-bar[data-v-168b8592]{flex:1;position:relative;height:20px;border-radius:14px;overflow:hidden;background-color:var(--bg-color);border:4px solid var(--bg-color);transition:background-color 2s ease,border-color 2s ease}.main .top-container .info-container .process-box .process-bar[data-v-168b8592]:before{content:"";position:absolute;top:0;left:0;height:inherit;width:calc(var(--process) * 100%);background-color:var(--stress-color);transition:width .5s ease,background-color 2s ease}.main .lyric-container[data-v-168b8592]{width:100%;height:200px;box-sizing:border-box;padding:0 10px;overflow:hidden;-webkit-mask-image:linear-gradient(to bottom,#000,#000 80%,rgba(0,0,0,.1));mask-image:linear-gradient(to bottom,#000,#000 80%,rgba(0,0,0,.1))}.main .lyric-container .lyric-box[data-v-168b8592]{width:100%;transition:transform .5s ease}.main .lyric-container .lyric-box .lyric-line[data-v-168b8592]{height:67px;width:100%;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;color:var(--text-color);font-size:40px;opacity:.8;transition:all .5s ease-in-out;z-index:2;text-align:center}.main .lyric-container .lyric-box .lyric-line span[data-v-168b8592]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.main .lyric-container .lyric-box .lyric-line.active[data-v-168b8592]{opacity:1;font-size:60px;font-weight:700}.main .lyric-container .lyric-box .lyric-line[data-v-168b8592]:not(.active){filter:blur(1px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-168b8592]{height:100px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;padding:20px 0;color:var(--text-color);font-size:40px;opacity:.8;transition:all .5s ease-in-out;z-index:2;text-align:center}.main .lyric-container .lyric-box .lyric-line-translated span[data-v-168b8592]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:visible;transition:all .5s ease-in-out;flex:1}.main .lyric-container .lyric-box .lyric-line-translated.active[data-v-168b8592]{opacity:1;font-weight:700}.main .lyric-container .lyric-box .lyric-line-translated.active .original[data-v-168b8592]{font-size:50px;transform:translateY(10px);filter:blur(2px)}.main .lyric-container .lyric-box .lyric-line-translated.active .translated[data-v-168b8592]{font-size:60px;transform:translateY(-15px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-168b8592]:not(.active){opacity:.8;filter:blur(1px)}.main .lyric-container .lyric-empty[data-v-168b8592]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:60px;font-weight:700;color:var(--text-color);transition:all .5s ease-in-out}\n/*$vite$:1*/',document.head.appendChild(t);var L={class:"top-container"},P=["src"],q={class:"cover",style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:z,alt:""},N={class:"info-container"},O={class:"top-info"},Y={key:0,class:"game-info bg-box"},J={key:1},T={class:"song-info bg-box"},$={key:2},A={class:"process-box"},B={class:"lyric-container"},E={key:0,class:"lyric-box"},V={class:"original"},W={class:"translated"},X={key:1,class:"lyric-empty"};a("default",H({__name:"Home4",setup:function(a){var t=o(),z=n(JSON.parse(localStorage.getItem("extraInfo"))),H=e(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),F=e(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),G=e(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),K=e([]),M=i(function(){for(var a,o=(null===(a=t.songData)||void 0===a||null===(a=a.player)||void 0===a?void 0:a.seekbarCurrentPositionHuman.split(":"))||0,n=60*parseInt(o[0])+parseInt(o[1]),e=-1,i=t.lyricData.lyric.length-1;i>=0;i--){var r=t.lyricData.lyric[i][1].match(/\[(\d+):(\d+)\.(\d+)\]/);if(r&&n>=60*parseInt(r[1])+parseInt(r[2])){e=i;break}}var l=0;l=0===t.lyricData.translatedLyric.length?67*-(e-1):100*-e;var c=document.querySelector(".lyric-box");return c&&(c.style.transform="translateY(".concat(l,"px)")),e});return JSON.parse(localStorage.getItem("isCustomColor"))||r(function(){var a;return null===(a=t.songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.cover},function(a,o){var n,e,i;a&&a!==o&&(e=new _,(i=new Image).src=I(null===(n=t.songData)||void 0===n||null===(n=n.track)||void 0===n?void 0:n.cover),i.onload=function(){var a=e.getColor(i);H.value="rgba(".concat(a.join(","),", 1)"),F.value="rgba(".concat(a.map(function(a){return 255-a}).join(","),", 1)"),G.value="rgba(".concat(a.map(function(a){return 255-a}).join(","),", 1)"),K.value=e.getPalette(i).map(function(a){return"rgba(".concat(a.join(","),", 1)")})})}),l(function(){t.resetSongData()}),function(a,o){return v(),c(d(S),{width:1280,height:480,"box-style":{backgroundColor:"none"}},{default:s(function(){var a,o,n,e,i,r,l,I,_;return[p("div",{class:"main",style:u({"--theme-color":H.value,"--text-color":F.value,"--bg-color":K.value[2]||F.value,"--shadow-color":G.value,"--stress-color":K.value[3]})},[p("div",L,[f(g(b,{name:"fade",mode:"out-in"},{default:s(function(){var a,o;return[(v(),y("img",{id:"cover",class:"cover",key:null===(a=d(t).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.cover,src:null===(o=d(t).songData)||void 0===o||null===(o=o.track)||void 0===o?void 0:o.cover,alt:"封面"},null,8,P))]}),_:1},512),[[x,null===(a=d(t).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.cover]]),f(p("img",q,null,512),[[x,!(null!==(o=d(t).songData)&&void 0!==o&&null!==(o=o.track)&&void 0!==o&&o.cover)]]),p("div",N,[p("div",O,[z.some(function(a){return a.length>0})?(v(),y("div",Y,[z[0].length>0?(v(),c(C,{key:0,color:F.value,"content-align":"center"},{default:s(function(){return[h(w(z[0][0]),1)]}),_:1},8,["color"])):m("",!0),z[1].length>0?(v(),y("div",J,[g(C,{color:F.value,"content-align":"space-evenly"},{default:s(function(){return[(v(!0),y(k,null,D(z[1].join(" | ").split(" "),function(a,t){return v(),y("span",{key:t},w(a),1)}),128))]}),_:1},8,["color"])])):m("",!0)])):m("",!0),p("div",T,[null!==(n=d(t).songData)&&void 0!==n&&null!==(n=n.track)&&void 0!==n&&n.title?(v(),c(C,{key:0,color:F.value,"is-bold":"bold"},{default:s(function(){var a;return[h(w(null===(a=d(t).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.title),1)]}),_:1},8,["color"])):m("",!0),null!==(e=d(t).songData)&&void 0!==e&&null!==(e=e.track)&&void 0!==e&&e.author?(v(),c(C,{key:1,color:F.value,"font-size":"35px"},{default:s(function(){var a;return[h(w(null===(a=d(t).songData)||void 0===a||null===(a=a.track)||void 0===a?void 0:a.author),1)]}),_:1},8,["color"])):m("",!0),null!==(i=d(t).songData)&&void 0!==i&&null!==(i=i.track)&&void 0!==i&&i.title||null!==(r=d(t).songData)&&void 0!==r&&null!==(r=r.track)&&void 0!==r&&r.author?m("",!0):(v(),y("span",$,"暂无歌曲信息"))])]),p("div",A,[p("span",null,w(null===(l=d(t).songData)||void 0===l||null===(l=l.player)||void 0===l?void 0:l.seekbarCurrentPositionHuman),1),p("div",{class:"process-bar",style:u({"--bg-color":K.value[2]||H.value,"--stress-color":K.value[3]||F.value,"--process":(null===(I=d(t).songData)||void 0===I||null===(I=I.player)||void 0===I?void 0:I.statePercent)||0})},null,4),p("span",null,w(null===(_=d(t).songData)||void 0===_||null===(_=_.track)||void 0===_?void 0:_.durationHuman),1)])])]),p("div",B,[d(t).lyricData.lyric.length>0?(v(),y("div",E,[0===d(t).lyricData.translatedLyric.length?(v(!0),y(k,{key:0},D(d(t).lyricData.lyric,function(a,t){return v(),y("div",{class:j(["lyric-line",{active:t===M.value}]),key:t},[p("span",null,w(a[2]),1)],2)}),128)):(v(!0),y(k,{key:1},D(d(t).lyricData.lyric,function(a,o){var n,e;return v(),y("div",{class:j(["lyric-line-translated",{active:o===M.value}]),key:o},[p("span",V,w(null!==(n=d(t).lyricData.translatedLyric.find(function(a){return a[1]===d(t).lyricData.lyric[o][1]}))&&void 0!==n&&n[2]?a[2]:""),1),p("span",W,w((null===(e=d(t).lyricData.translatedLyric.find(function(a){return a[1]===d(t).lyricData.lyric[o][1]}))||void 0===e?void 0:e[2])||a[2]),1)],2)}),128))])):(v(),y("div",X,"暂无歌词"))])],4)]}),_:1})}}},[["__scopeId","data-v-168b8592"]]))}}});
