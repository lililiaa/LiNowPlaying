import{b as K,d as F,_ as Q,j as Y,I as Z,c as d,cm as ee,cn as te,bG as se,co as ae,b9 as re,f as oe,e as O,p as n,s as a,q as D,y as g,u as t,v as u,x as I,C as q,V as w,N as L,B,S as ne,T as le,a1 as ie,bS as ce,av as de,o as ue,cl as pe,O as V,W,A as H,aq as fe,an as j,ap as G,X as J}from"./index-rwlLbiDS.js";import{_ as ye}from"./music-Def25HgW.js";import{o as R}from"./overflowText-CMclQLYt.js";import{T as ge}from"./v-scale-screen-lCa8Oxx2.js";import{_ as he}from"./plugin-vueexport-helper-DlAUqK2U.js";const me=K({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:P=>P>=0&&P<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:F(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:F([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:F(Function),default:P=>"".concat(P,"%")}}),ke=Y({name:"ElProgress"}),ve=Y({...ke,props:me,setup(P){const s=P,m={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},l=Z("progress"),z=d(()=>{const e={width:"".concat(s.percentage,"%"),animationDuration:"".concat(s.duration,"s")},i=x(s.percentage);return i.includes("gradient")?e.background=i:e.backgroundColor=i,e}),y=d(()=>(s.strokeWidth/s.width*100).toFixed(1)),h=d(()=>["circle","dashboard"].includes(s.type)?Number.parseInt("".concat(50-Number.parseFloat(y.value)/2),10):0),p=d(()=>{const e=h.value,i=s.type==="dashboard";return"\n          M 50 50\n          m 0 ".concat(i?"":"-").concat(e,"\n          a ").concat(e," ").concat(e," 0 1 1 0 ").concat(i?"-":"").concat(e*2,"\n          a ").concat(e," ").concat(e," 0 1 1 0 ").concat(i?"":"-").concat(e*2,"\n          ")}),c=d(()=>2*Math.PI*h.value),k=d(()=>s.type==="dashboard"?.75:1),S=d(()=>{const e=-1*c.value*(1-k.value)/2;return"".concat(e,"px")}),T=d(()=>({strokeDasharray:"".concat(c.value*k.value,"px, ").concat(c.value,"px"),strokeDashoffset:S.value})),v=d(()=>({strokeDasharray:"".concat(c.value*k.value*(s.percentage/100),"px, ").concat(c.value,"px"),strokeDashoffset:S.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),$=d(()=>{let e;return s.color?e=x(s.percentage):e=m[s.status]||m.default,e}),N=d(()=>s.status==="warning"?ee:s.type==="line"?s.status==="success"?te:se:s.status==="success"?ae:re),r=d(()=>s.type==="line"?12+s.strokeWidth*.4:s.width*.111111+2),o=d(()=>s.format(s.percentage));function C(e){const i=100/e.length;return e.map((f,_)=>O(f)?{color:f,percentage:(_+1)*i}:f).sort((f,_)=>f.percentage-_.percentage)}const x=e=>{var i;const{color:b}=s;if(oe(b))return b(e);if(O(b))return b;{const f=C(b);for(const _ of f)if(_.percentage>e)return _.color;return(i=f[f.length-1])==null?void 0:i.color}};return(e,i)=>(a(),n("div",{class:g([t(l).b(),t(l).m(e.type),t(l).is(e.status),{[t(l).m("without-text")]:!e.showText,[t(l).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(a(),n("div",{key:0,class:g(t(l).b("bar"))},[u("div",{class:g(t(l).be("bar","outer")),style:I({height:"".concat(e.strokeWidth,"px")})},[u("div",{class:g([t(l).be("bar","inner"),{[t(l).bem("bar","inner","indeterminate")]:e.indeterminate},{[t(l).bem("bar","inner","striped")]:e.striped},{[t(l).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:I(t(z))},[(e.showText||e.$slots.default)&&e.textInside?(a(),n("div",{key:0,class:g(t(l).be("bar","innerText"))},[q(e.$slots,"default",{percentage:e.percentage},()=>[u("span",null,w(t(o)),1)])],2)):D("v-if",!0)],6)],6)],2)):(a(),n("div",{key:1,class:g(t(l).b("circle")),style:I({height:"".concat(e.width,"px"),width:"".concat(e.width,"px")})},[(a(),n("svg",{viewBox:"0 0 100 100"},[u("path",{class:g(t(l).be("circle","track")),d:t(p),stroke:"var(".concat(t(l).cssVarName("fill-color-light"),", #e5e9f2)"),"stroke-linecap":e.strokeLinecap,"stroke-width":t(y),fill:"none",style:I(t(T))},null,14,["d","stroke","stroke-linecap","stroke-width"]),u("path",{class:g(t(l).be("circle","path")),d:t(p),stroke:t($),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":t(y),style:I(t(v))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(a(),n("div",{key:2,class:g(t(l).e("text")),style:I({fontSize:"".concat(t(r),"px")})},[q(e.$slots,"default",{percentage:e.percentage},()=>[e.status?(a(),L(t(le),{key:1},{default:B(()=>[(a(),L(ne(t(N))))]),_:1})):(a(),n("span",{key:0},w(t(o)),1))])],6)):D("v-if",!0)],10,["aria-valuenow"]))}});var be=Q(ve,[["__file","progress.vue"]]);const _e=ie(be),De={class:"main"},we={key:0,class:"header"},Se={key:0,class:"title"},$e={key:1,class:"title"},xe={key:2,class:"extra"},Ie={class:"content"},Pe=["src"],Te={class:"song-info"},Ce={key:2},Ne={class:"lyric-info"},Be={key:0,class:"lyric-box"},Le={class:"original"},ze={class:"translated"},Fe={key:1,class:"lyric-empty"},U="70px",Ve="60px",X="50px",We={__name:"Home5",setup(P){pe(y=>({"01817a82":U,"4d1c8ab3":Ve,b0038bee:X}));const s=ce(),m=de(JSON.parse(localStorage.getItem("extraInfo"))),l=d(()=>{var y,h,p,c;return(h=(y=s.songData)==null?void 0:y.player)!=null&&h.statePercent?+(((c=(p=s.songData)==null?void 0:p.player)==null?void 0:c.statePercent)*100).toFixed(2):0}),z=d(()=>{var S,T;const y=((T=(S=s.songData)==null?void 0:S.player)==null?void 0:T.seekbarCurrentPositionHuman.split(":"))||0,h=parseInt(y[0])*60+parseInt(y[1]);let p=-1;for(let v=s.lyricData.lyric.length-1;v>=0;v--){const $=s.lyricData.lyric[v][1].match(/\[(\d+):(\d+)\.(\d+)\]/);if($){const N=parseInt($[1])*60+parseInt($[2]);if(h>=N){p=v;break}}}let c=0;s.lyricData.translatedLyric.length===0?c=-(p-1)*80:c=-p*120;const k=document.querySelector(".lyric-box");return k&&(k.style.transform="translateY(".concat(c,"px)")),p});return ue(()=>{s.resetSongData()}),(y,h)=>(a(),L(t(ge),{width:1880,height:400,"box-style":{backgroundColor:"none"}},{default:B(()=>{var p,c,k,S,T,v,$,N;return[u("div",De,[m.some(r=>r.length>0)?(a(),n("div",we,[m[0].length>0?(a(),n("span",Se,w(m[0][0]),1)):D("",!0),m.every(r=>r.length>0)?(a(),n("span",$e," - ")):D("",!0),m[1].length>0?(a(),n("div",xe,[(a(!0),n(V,null,W(m[1].join(" | ").split(" "),(r,o)=>(a(),n("span",{key:o},w(r),1))),128))])):D("",!0)])):D("",!0),u("div",Ie,[H(fe,{name:"fade",mode:"out-in"},{default:B(()=>{var r,o,C,x,e,i,b,f,_,M,A,E;return[(a(),n("div",{class:"cover",key:(o=(r=t(s).songData)==null?void 0:r.track)==null?void 0:o.cover},[j(u("img",{id:"cover",style:I({"animation-play-state":(x=(C=t(s).songData)==null?void 0:C.player)!=null&&x.isPaused?"paused":"running"}),src:(i=(e=t(s).songData)==null?void 0:e.track)==null?void 0:i.cover,alt:"封面"},null,12,Pe),[[G,(f=(b=t(s).songData)==null?void 0:b.track)==null?void 0:f.cover]]),j(u("img",{style:I([{"animation-play-state":(M=(_=t(s).songData)==null?void 0:_.player)!=null&&M.isPaused?"paused":"running"},{"box-sizing":"border-box",padding:"30px",color:"#fff"}]),src:ye,alt:""},null,4),[[G,!((E=(A=t(s).songData)==null?void 0:A.track)!=null&&E.cover)]]),H(t(_e),{class:"progress-circle",type:"circle",percentage:l.value,"show-text":!1,width:210,color:"#2a3338"},null,8,["percentage"])]))]}),_:1}),u("div",Te,[(c=(p=t(s).songData)==null?void 0:p.track)!=null&&c.title?(a(),L(R,{key:0,color:"#fff","font-size":U,"is-bold":"bold"},{default:B(()=>{var r,o;return[J(w((o=(r=t(s).songData)==null?void 0:r.track)==null?void 0:o.title),1)]}),_:1})):D("",!0),(S=(k=t(s).songData)==null?void 0:k.track)!=null&&S.author?(a(),L(R,{key:1,color:"#fff","font-size":X},{default:B(()=>{var r,o;return[J(w((o=(r=t(s).songData)==null?void 0:r.track)==null?void 0:o.author),1)]}),_:1})):D("",!0),!((v=(T=t(s).songData)==null?void 0:T.track)!=null&&v.title)&&!((N=($=t(s).songData)==null?void 0:$.track)!=null&&N.author)?(a(),n("span",Ce,"暂无歌曲信息")):D("",!0)]),h[0]||(h[0]=u("div",{class:"split"},null,-1)),u("div",Ne,[t(s).lyricData.lyric.length>0?(a(),n("div",Be,[t(s).lyricData.translatedLyric.length===0?(a(!0),n(V,{key:0},W(t(s).lyricData.lyric,(r,o)=>(a(),n("div",{class:g(["lyric-line",{active:o===z.value}]),key:o},[u("span",null,w(r[2]),1)],2))),128)):(a(!0),n(V,{key:1},W(t(s).lyricData.lyric,(r,o)=>{var C,x;return a(),n("div",{class:g(["lyric-line-translated",{active:o===z.value}]),key:o},[u("span",Le,w((C=t(s).lyricData.translatedLyric.find(e=>e[1]===t(s).lyricData.lyric[o][1]))!=null&&C[2]?r[2]:""),1),u("span",ze,w(((x=t(s).lyricData.translatedLyric.find(e=>e[1]===t(s).lyricData.lyric[o][1]))==null?void 0:x[2])||r[2]),1)],2)}),128))])):(a(),n("div",Fe,"暂无歌词"))])])])]}),_:1}))}},He=he(We,[["__scopeId","data-v-d6cd59cd"]]);export{He as default};
