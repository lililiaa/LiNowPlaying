import{bR as U,aH as J,_ as r,T as W,a0 as L,$ as X,ap as h,aq as _,I as t,aj as d,am as n,ax as m,aB as v,an as f,aC as k,ak as D,ai as Y,b8 as M,aw as O}from"./index-BzytSOWE.js";import{_ as Z,a as aa}from"./plugin-vueexport-helper-DwRewS5w.js";import{T as ta,o as R}from"./v-scale-screen-c2dXlTkz.js";const ea=["src"],oa=["src"],sa={class:"song-container"},ra={key:2},na={__name:"Home6",setup(la){const a=U();J(JSON.parse(localStorage.getItem("extraInfo")));const A=r(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),u=r(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),G=r(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),x=r([]),K=r("rgb(255, 255, 255)");W(()=>{var e,o,l,c;return(o=(e=a.songData)==null?void 0:e.player)!=null&&o.statePercent?(((c=(l=a.songData)==null?void 0:l.player)==null?void 0:c.statePercent)*100).toFixed(2):0});const Q=r(""),s=J({status:"已暂停",name:"暂无歌曲"}),p=()=>{s.status&&s.name?document.title=s.status+" - "+s.name:document.title="歌曲组件"};return L(()=>{var e,o;return(o=(e=a.songData)==null?void 0:e.player)==null?void 0:o.isPaused},e=>{e?s.status="已暂停":s.status="播放中",p()}),L(()=>{var e,o;return(o=(e=a.songData)==null?void 0:e.track)==null?void 0:o.title},e=>{s.name=e,p()}),X(()=>{p(),a.resetSongData()}),(e,o)=>(d(),h(t(ta),{width:800,height:1e3,"box-style":{backgroundColor:"none"}},{default:_(()=>{var l,c,y,C,b,S,w,I,z,B,P,T,N,H,V,$,j,q,E,F;return[n("div",{class:"main",style:m({"--theme-color":A.value,"--text-color":u.value,"--bg-color":x.value[2]||u.value,"--shadow-color":G.value,"--stress-color":x.value[3]})},[n("div",{class:"cover",style:m({outline:"10px solid ".concat(K.value)})},[v(n("img",{id:"cover",class:f({changing:t(a).isChanging}),style:m({"animation-play-state":(c=(l=t(a).songData)==null?void 0:l.player)!=null&&c.isPaused?"paused":"running"}),src:(C=(y=t(a).songData)==null?void 0:y.track)==null?void 0:C.cover,alt:"封面"},null,14,ea),[[k,(S=(b=t(a).songData)==null?void 0:b.track)==null?void 0:S.cover]]),v(n("img",{class:f(["old-cover",{changing:t(a).isChanging}]),style:m({"animation-play-state":(I=(w=t(a).songData)==null?void 0:w.player)!=null&&I.isPaused?"paused":"running"}),src:Q.value,alt:"封面"},null,14,oa),[[k,(B=(z=t(a).songData)==null?void 0:z.track)==null?void 0:B.cover]]),v(n("img",{class:f({changing:t(a).isChanging}),style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:aa,alt:""},null,2),[[k,!((T=(P=t(a).songData)==null?void 0:P.track)!=null&&T.cover)]])],4),n("div",sa,[(H=(N=t(a).songData)==null?void 0:N.track)!=null&&H.title?(d(),h(R,{key:0,color:u.value,"is-bold":"bold","font-size":"50px","content-align":"center"},{default:_(()=>{var i,g;return[M(O((g=(i=t(a).songData)==null?void 0:i.track)==null?void 0:g.title),1)]}),_:1},8,["color"])):D("",!0),($=(V=t(a).songData)==null?void 0:V.track)!=null&&$.author?(d(),h(R,{key:1,color:u.value,"font-size":"40px","content-align":"center"},{default:_(()=>{var i,g;return[M(O((g=(i=t(a).songData)==null?void 0:i.track)==null?void 0:g.author),1)]}),_:1},8,["color"])):D("",!0),!((q=(j=t(a).songData)==null?void 0:j.track)!=null&&q.title)&&!((F=(E=t(a).songData)==null?void 0:E.track)!=null&&F.author)?(d(),Y("span",ra,"暂无歌曲信息")):D("",!0)])],4)]}),_:1}))}},ua=Z(na,[["__scopeId","data-v-2e7e8200"]]);export{ua as default};
