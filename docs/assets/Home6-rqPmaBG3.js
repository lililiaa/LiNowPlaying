import{c2 as la,aK as ea,a1 as c,X as ca,a3 as b,a2 as ia,as as f,at as k,L as o,am as v,ap as s,aA as p,aE as y,aq as h,aF as C,an as x,al as ga,bb as oa,az as _}from"./index-D7UMz73x.js";import{_ as ua}from"./music-Def25HgW.js";import{T as da,o as sa}from"./v-scale-screen-nXKdRjgD.js";import{_ as ma}from"./plugin-vueexport-helper-DlAUqK2U.js";const va=i=>i||"",na=i=>{const[a,m,r]=i.match(/\d+/g).map(Number);return(a*299+m*587+r*114)/1e3<200},pa={class:"cover"},ha=["src"],_a=["src"],Da={class:"song-container"},ba={key:2},fa={class:"status-container"},ka={class:"play-container"},ya={__name:"Home6",setup(i){const a=la();ea(JSON.parse(localStorage.getItem("extraInfo")));const m=c(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),r=c(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),S=c(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),w=c([]),I=c("rgb(255, 255, 255)"),P=c("rgb(255, 255, 255)");ca(()=>{var t,e,n,g;return(e=(t=a.songData)==null?void 0:t.player)!=null&&e.statePercent?(((g=(n=a.songData)==null?void 0:n.player)==null?void 0:g.statePercent)*100).toFixed(2):0});const ra=()=>{var e,n;const t=new Image;t.src=va((n=(e=a.songData)==null?void 0:e.track)==null?void 0:n.cover),t.onload=function(){I.value=na(m.value)?"rgb(255, 255, 255)":"rgb(0, 0, 0)",P.value=na(r.value)?"rgb(255, 255, 255)":"rgb(0, 0, 0)"}},z=c("");b(()=>{var t,e;return(e=(t=a.songData)==null?void 0:t.track)==null?void 0:e.cover},(t,e)=>{z.value=e||"/assets/icons/music.svg",t&&t!==e&&ra()});const l=ea({status:"已暂停",name:"暂无歌曲"}),D=()=>{l.status&&l.name?document.title=l.status+" - "+l.name:document.title="歌曲组件"};return b(()=>{var t,e;return(e=(t=a.songData)==null?void 0:t.player)==null?void 0:e.isPaused},t=>{t?l.status="已暂停":l.status="播放中",D()}),b(()=>{var t,e;return(e=(t=a.songData)==null?void 0:t.track)==null?void 0:e.title},t=>{l.name=t,D()}),ia(()=>{D(),a.resetSongData()}),(t,e)=>(v(),f(o(da),{width:850,height:1100,"box-style":{backgroundColor:"none"}},{default:k(()=>{var n,g,N,B,H,T,E,F,L,q,A,J,K,M,O,U,V,X,j,G,Q,R,W,Y,Z,$,aa,ta;return[s("div",{class:"main",style:p({"--theme-color":m.value,"--text-color":r.value,"--bg-color":w.value[2]||r.value,"--shadow-color":S.value,"--stress-color":w.value[3],"--outline-color":I.value,"--outline-color2":P.value})},[s("div",pa,[y(s("img",{id:"cover",class:h({changing:o(a).isChanging}),style:p({"animation-play-state":(g=(n=o(a).songData)==null?void 0:n.player)!=null&&g.isPaused?"paused":"running"}),src:(B=(N=o(a).songData)==null?void 0:N.track)==null?void 0:B.cover,alt:"封面"},null,14,ha),[[C,(T=(H=o(a).songData)==null?void 0:H.track)==null?void 0:T.cover]]),y(s("img",{class:h(["old-cover",{changing:o(a).isChanging}]),style:p({"animation-play-state":(F=(E=o(a).songData)==null?void 0:E.player)!=null&&F.isPaused?"paused":"running"}),src:z.value,alt:"封面"},null,14,_a),[[C,(q=(L=o(a).songData)==null?void 0:L.track)==null?void 0:q.cover]]),y(s("img",{class:h({changing:o(a).isChanging}),style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:ua,alt:""},null,2),[[C,!((J=(A=o(a).songData)==null?void 0:A.track)!=null&&J.cover)]])]),s("div",Da,[(M=(K=o(a).songData)==null?void 0:K.track)!=null&&M.title?(v(),f(sa,{key:0,color:r.value,"is-bold":"bold","font-size":"50px","content-align":"center"},{default:k(()=>{var u,d;return[oa(_((d=(u=o(a).songData)==null?void 0:u.track)==null?void 0:d.title),1)]}),_:1},8,["color"])):x("",!0),(U=(O=o(a).songData)==null?void 0:O.track)!=null&&U.author?(v(),f(sa,{key:1,color:r.value,"font-size":"40px","content-align":"center"},{default:k(()=>{var u,d;return[oa(_((d=(u=o(a).songData)==null?void 0:u.track)==null?void 0:d.author),1)]}),_:1},8,["color"])):x("",!0),!((X=(V=o(a).songData)==null?void 0:V.track)!=null&&X.title)&&!((G=(j=o(a).songData)==null?void 0:j.track)!=null&&G.author)?(v(),ga("span",ba,"暂无歌曲信息")):x("",!0)]),s("div",fa,[s("div",{class:"process-container",style:p({"--process":((R=(Q=o(a).songData)==null?void 0:Q.player)==null?void 0:R.statePercent)||0})},null,4),s("div",ka,[s("span",null,_((Y=(W=o(a).songData)==null?void 0:W.player)==null?void 0:Y.seekbarCurrentPositionHuman),1),s("div",{class:h(["status",{pause:($=(Z=o(a).songData)==null?void 0:Z.player)==null?void 0:$.isPaused}])},[...e[0]||(e[0]=[s("div",{class:"line line1"},null,-1),s("div",{class:"line line2"},null,-1),s("div",{class:"line line3"},null,-1),s("div",{class:"line line4"},null,-1)])],2),s("span",null,_((ta=(aa=o(a).songData)==null?void 0:aa.track)==null?void 0:ta.durationHuman),1)])])],4)]}),_:1}))}},Ia=ma(ya,[["__scopeId","data-v-aee8793b"]]);export{Ia as default};
