!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(e){var a=function(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,a||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==t(a)?a:a+""}System.register(["./index-legacy-Bvk-rbp1.js","./v-scale-screen-legacy-JJAweiq7.js","./plugin-vueexport-helper-legacy-DCWa1RRI.js"],function(t,a){"use strict";var n,i,r,o,s,c,l,d,u,h,f,v,p,g,m,b,y,x,w;return{setters:[function(t){n=t.c2,i=t.a1,r=t.aK,o=t.a3,s=t.a2,c=t.a5,l=t.as,d=t.at,u=t.L,h=t.am,f=t.ap,v=t.aA,p=t.aE,g=t.aF,m=t.aH,b=t.aG,y=t.al},function(t){x=t.T},function(t){w=t._}],execute:function(){var a=document.createElement("style");a.textContent=".main[data-v-e572fc6e]{width:1700px;height:1000px;margin:100px;display:flex;flex-direction:column;justify-content:center;font-family:hyp,Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.main .surface-container[data-v-e572fc6e]{position:relative;flex:1}.main .surface-container .rain-container[data-v-e572fc6e]{position:relative;width:100%;height:100%;overflow:hidden;-webkit-mask-image:linear-gradient(to bottom,transparent,#000 20%),linear-gradient(to right,transparent,#000 10%,#000 90%,transparent);mask-image:linear-gradient(to bottom,transparent,#000 20%),linear-gradient(to right,transparent,#000 10%,#000 90%,transparent);-webkit-mask-composite:source-in;mask-composite:intersect;z-index:2}.main .surface-container .street-light[data-v-e572fc6e]{height:100%;width:300px;position:absolute;left:150px;top:0;display:flex;flex-direction:column;justify-content:flex-end;align-items:center}.main .surface-container .street-light div[data-v-e572fc6e]{box-sizing:border-box;transition:border-color .5s ease}.main .surface-container .street-light .shade polygon[data-v-e572fc6e]{fill:none;stroke:var(--theme-color);stroke-width:5px;stroke-dasharray:10 5}.main .surface-container .street-light .top[data-v-e572fc6e]{width:60px;height:60px;border:5px dashed var(--theme-color);border-top:none;position:relative}.main .surface-container .street-light .top .light[data-v-e572fc6e]{position:absolute;width:600px;height:400px;left:50%;top:-32px;transform:translate(-50%);background:radial-gradient(circle 300px at center 10px,var(--text-color) 30px,transparent);clip-path:polygon(240px 29px,360px 29px,100% 55%,100% 100%,0 100%,0 55%)}.main .surface-container .street-light .top .fade-enter-active[data-v-e572fc6e],.main .surface-container .street-light .top .fade-leave-active[data-v-e572fc6e]{transition:opacity 2s ease}.main .surface-container .street-light .top .fade-enter-from[data-v-e572fc6e],.main .surface-container .street-light .top .fade-leave-to[data-v-e572fc6e]{opacity:0}.main .surface-container .street-light .center[data-v-e572fc6e]{width:25px;height:500px;border:5px dashed var(--theme-color);border-top:none;border-bottom:none}.main .surface-container .street-light .bottom[data-v-e572fc6e]{width:40px;height:80px;border:5px dashed var(--theme-color);border-bottom:none}.main .curb-container[data-v-e572fc6e]{width:100%;height:60px;display:flex;justify-content:space-around;box-sizing:border-box;border-top:5px dashed var(--theme-color);-webkit-mask-image:linear-gradient(to right,transparent,#000 20%,#000 80%,transparent);mask-image:linear-gradient(to right,transparent,#000 20%,#000 80%,transparent);transition:border-color .5s ease}\n/*$vite$:1*/",document.head.appendChild(a);var k={class:"surface-container"},S={class:"rain-container"},C={class:"street-light"},M={class:"top"};t("default",w({__name:"Home7",setup:function(t){var a=n(),w=i(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),j=i(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),E=i(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),P=i([]),_=function(){return t=function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasWidth=e,this.canvasHeight=a,this.reset()},(a=[{key:"reset",value:function(){this.y=Math.random()*-this.canvasHeight,T.value.angle>=0?this.x=(1.3*Math.random()-.3)*this.canvasWidth:this.x=1.3*Math.random()*this.canvasWidth,this.length=20*Math.random()+20,this.width=1*Math.random()+2,this.speedFactor=.5*Math.random()+.7}},{key:"update",value:function(t,e){var a=t*Math.PI/180,n=Math.sin(a)*e,i=Math.cos(a)*e*this.speedFactor;this.x+=n,this.y+=i,this.y>this.canvasHeight&&this.reset()}},{key:"draw",value:function(t,e){var a=e*Math.PI/180,n=this.x-Math.sin(a)*this.length,i=this.y-Math.cos(a)*this.length,r=t.createLinearGradient(this.x,this.y,n,i);r.addColorStop(0,w.value),r.addColorStop(1,"rgba(255, 255, 255, 0)"),t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(n,i),t.strokeStyle=r,t.lineWidth=this.width,t.stroke()}}])&&e(t.prototype,a),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a,n}(),H=i(null),I=null,L=[],F=null,T=i(JSON.parse(localStorage.getItem("rainConfig")||{isRain:!0,amount:100,angle:10,speed:5})),W=r({status:"已暂停",name:"暂无歌曲"}),z=function(){W.status&&W.name?document.title=W.status+" - "+W.name:document.title="歌曲组件"};function A(t){var e=document.querySelector(".rain-container");t.width=e.clientWidth,t.height=e.clientHeight,L.forEach(function(e){e.canvasWidth=t.width,e.canvasHeight=t.height})}function D(){var t=H.value;I.clearRect(0,0,t.width,t.height),L.forEach(function(t){t.update(T.value.angle,T.value.speed),t.draw(I,T.value.angle)}),F=requestAnimationFrame(D)}return o(function(){var t;return null===(t=a.songData)||void 0===t||null===(t=t.player)||void 0===t?void 0:t.isPaused},function(t){W.status=t?"已暂停":"播放中",z()}),o(function(){var t;return null===(t=a.songData)||void 0===t||null===(t=t.track)||void 0===t?void 0:t.title},function(t){W.name=t,z()}),s(function(){z(),a.resetSongData();var t=H.value;I=t.getContext("2d"),A(t),function(t){L=[];for(var e=0;e<T.value.amount;e++)L.push(new _(t.width,t.height));console.log(L.length)}(t),F=requestAnimationFrame(D),window.addEventListener("resize",function(){return A(H.value)})}),c(function(){F&&cancelAnimationFrame(F),window.removeEventListener("resize",function(){return A(H.value)})}),function(t,e){return h(),l(u(x),{width:1900,height:1200,"box-style":{backgroundColor:"none"}},{default:d(function(){return[f("div",{class:"main",style:v({"--theme-color":w.value,"--text-color":j.value,"--bg-color":P.value[2]||j.value,"--shadow-color":E.value})},[f("div",k,[f("div",S,[p(f("canvas",{id:"rainCanvas",ref_key:"rainCanvas",ref:H},null,512),[[g,T.value.isRain]])]),f("div",C,[e[0]||(e[0]=f("svg",{width:"120",height:"60",viewBox:"0 0 120 60",class:"shade"},[f("polygon",{points:"60,10 0,55 120,55"})],-1)),f("div",M,[m(b,{name:"fade"},{default:d(function(){var t;return[(h(),y("div",{class:"light",key:null===(t=u(a).songData)||void 0===t||null===(t=t.track)||void 0===t?void 0:t.cover}))]}),_:1})]),e[1]||(e[1]=f("div",{class:"center"},null,-1)),e[2]||(e[2]=f("div",{class:"bottom"},null,-1))])]),e[3]||(e[3]=f("div",{class:"curb-container"},null,-1))],4)]}),_:1})}}},[["__scopeId","data-v-e572fc6e"]]))}}})}();
