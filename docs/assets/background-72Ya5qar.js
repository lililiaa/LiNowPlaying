import{g as d,u as i}from"./cover-DzIuO3oK.js";import{bS as u,r as n,w as _,p,v as f,x as v,s as b}from"./index-DLkcM1tU.js";import{_ as h}from"./plugin-vueexport-helper-DlAUqK2U.js";const C={class:"main"},S={__name:"background",setup(k){const e=u(),r=n(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),t=n(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),g=()=>{var s,c;const a=new i,o=new Image;o.src=d((c=(s=e.songData)==null?void 0:s.track)==null?void 0:c.cover),o.onload=function(){const l=a.getColor(o);r.value="rgba(".concat(l.join(","),", 1)"),t.value="rgba(".concat(l.map(m=>255-m).join(","),", 1)")}};return JSON.parse(localStorage.getItem("isCustomColor"))||_(()=>{var a,o;return(o=(a=e.songData)==null?void 0:a.track)==null?void 0:o.cover},(a,o)=>{a&&a!==o&&g()}),(a,o)=>(b(),p("div",C,[f("div",{class:"background",style:v({"--theme-color":r.value,"--shadow-color":t.value})},null,4)]))}},B=h(S,[["__scopeId","data-v-d7efd0c9"]]);export{B as default};
