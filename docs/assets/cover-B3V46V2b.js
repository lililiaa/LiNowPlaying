import{bS as v,r as h,w as u,N as C,B as w,u as s,s as x,v as i,x as S,an as d,y as f,ap as _}from"./index-DLkcM1tU.js";import{_ as b}from"./music-Def25HgW.js";import{T as k}from"./v-scale-screen-b1uMIy6X.js";import{g as D,u as y}from"./cover-DzIuO3oK.js";import{_ as I}from"./plugin-vueexport-helper-DlAUqK2U.js";const B=["src"],z={__name:"cover",setup(N){const r=v(),l=h(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),p=()=>{var t,e;const a=new y,o=new Image;o.src=D((e=(t=r.songData)==null?void 0:t.track)==null?void 0:e.cover),o.onload=function(){const c=a.getColor(o);l.value="rgba(".concat(c.map(n=>255-n).join(","),", 1)")}};return JSON.parse(localStorage.getItem("isCustomColor"))||u(()=>{var a,o;return(o=(a=r.songData)==null?void 0:a.track)==null?void 0:o.cover},(a,o)=>{a&&a!==o&&p()}),(a,o)=>(x(),C(s(k),{width:1e3,height:1e3,"box-style":{backgroundColor:"none"}},{default:w(()=>{var t,e,c,n,g,m;return[i("div",{class:"main",style:S({"--shadow-color":l.value})},[d(i("img",{id:"cover",class:f(["cover",{changing:s(r).isChanging}]),src:(e=(t=s(r).songData)==null?void 0:t.track)==null?void 0:e.cover,alt:"封面"},null,10,B),[[_,(n=(c=s(r).songData)==null?void 0:c.track)==null?void 0:n.cover]]),d(i("img",{class:f(["cover",{changing:s(r).isChanging}]),style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:b,alt:""},null,2),[[_,!((m=(g=s(r).songData)==null?void 0:g.track)!=null&&m.cover)]])],4)]}),_:1}))}},$=I(z,[["__scopeId","data-v-dd49f4c3"]]);export{$ as default};
