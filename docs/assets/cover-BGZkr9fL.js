import{L as _,b7 as O,T,U as W,Y as w,$ as q,aC as z,B as C,C as k,K as m,F as M,b8 as N,aE as b}from"./index-wjGeIqo1.js";import{_ as j}from"./plugin-vueexport-helper-DwRewS5w.js";const y=_({name:"overflowText",props:{color:{type:String,default:"rgba(255, 255, 255, 1)"},text:{type:String,default:""},fontSize:{type:String,default:"45px"},isBold:{type:String,default:"normal"},contentAlign:{type:String,default:"flex-start"}}}),S=()=>{O(e=>({ba591a04:e.contentAlign,"86c7f23c":e.fontSize,65175141:e.isBold,"2bb2429e":e.color}))},x=y.setup;y.setup=x?(e,n)=>(S(),x(e,n)):S;const V={class:"marquee"},E={class:"marquee-warp"},A={class:"marquee-content"};function F(e,n,r,t,c,o){return W(),T("div",V,[w("div",E,[w("div",A,[q(e.$slots,"default",{},void 0,!0)])])])}const P=j(y,[["render",F],["__scopeId","data-v-5077d4e6"]]);function L(e,n){let r;return function(...t){r&&clearTimeout(r),r=setTimeout(()=>{typeof e=="function"&&e.apply(null,t),clearTimeout(r)},n>0?n:100)}}const D=_({name:"VScaleScreen",props:{width:{type:[String,Number],default:1920},height:{type:[String,Number],default:1080},fullScreen:{type:Boolean,default:!1},autoScale:{type:[Object,Boolean],default:!0},delay:{type:Number,default:500},boxStyle:{type:Object,default:()=>({})},wrapperStyle:{type:Object,default:()=>({})},bodyOverflowHidden:{type:Boolean,default:!0}},setup(e,{slots:n}){let r;const t=z({width:0,height:0,originalWidth:0,originalHeight:0,observer:null}),c={box:{overflow:"hidden",backgroundSize:"100% 100%",backgroundColor:"#000",width:"100vw",height:"100vh"},wrapper:{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"500ms",position:"relative",overflow:"hidden",zIndex:100,transformOrigin:"left top"}},o=C(),g=()=>new Promise(i=>{m(()=>{var a,l;e.width&&e.height?(t.width=e.width,t.height=e.height):(t.width=(a=o.value)==null?void 0:a.clientWidth,t.height=(l=o.value)==null?void 0:l.clientHeight),(!t.originalHeight||!t.originalWidth)&&(t.originalWidth=window.screen.width,t.originalHeight=window.screen.height),i()})});function $(){e.bodyOverflowHidden&&(r=document.body.style.overflow,document.body.style.overflow="hidden")}const v=()=>{t.width&&t.height?(o.value.style.width=`${t.width}px`,o.value.style.height=`${t.height}px`):(o.value.style.width=`${t.originalWidth}px`,o.value.style.height=`${t.originalHeight}px`)},H=i=>{if(!e.autoScale)return;const a=o.value.clientWidth,l=o.value.clientHeight,f=document.body.clientWidth,d=document.body.clientHeight;o.value.style.transform=`scale(${i},${i})`;let s=Math.max((f-a*i)/2,0),u=Math.max((d-l*i)/2,0);typeof e.autoScale=="object"&&(!e.autoScale.x&&(s=0),!e.autoScale.y&&(u=0)),o.value.style.margin=`${u}px ${s}px`},h=()=>{const i=document.body.clientWidth,a=document.body.clientHeight,l=t.width||t.originalWidth,f=t.height||t.originalHeight,d=i/+l,s=a/+f;if(e.fullScreen)return o.value.style.transform=`scale(${d},${s})`,!1;const u=Math.min(d,s);H(u)},p=L(async()=>{await g(),v(),h()},e.delay),B=()=>{(t.observer=new MutationObserver(()=>{p()})).observe(o.value,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})};return k(()=>{$(),m(async()=>{await g(),v(),h(),window.addEventListener("resize",p),B()})}),M(()=>{var i;window.removeEventListener("resize",p),(i=t.observer)==null||i.disconnect(),e.bodyOverflowHidden&&(document.body.style.overflow=r)}),N(h),()=>{var i;return b("div",{className:"v-screen-box",style:{...c.box,...e.boxStyle}},[b("div",{className:"screen-wrapper",style:{...c.wrapper,...e.wrapperStyle},ref:o},(i=n.default)==null?void 0:i.call(n))])}}}),K=e=>e?e.replace("https://y.qq.com","https://qq-img-proxy.2381835193.workers.dev"):"";export{D as T,K as g,P as o};
