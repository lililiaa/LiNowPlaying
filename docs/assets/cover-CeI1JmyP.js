import{bS as f,r as p,w as u,o as v,p as n,A as h,B as k,aq as S,x,s as l,u as i}from"./index-rwlLbiDS.js";import{_ as C}from"./music-Def25HgW.js";import{g as w,u as b}from"./cover-DzIuO3oK.js";import{_ as D}from"./plugin-vueexport-helper-DlAUqK2U.js";const y=["src"],I={key:1,class:"cover",style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:C,alt:""},B={__name:"cover",setup(z){const e=f(),g=p(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),d=()=>{var t,r;const a=new b,o=new Image;o.src=w((r=(t=e.songData)==null?void 0:t.track)==null?void 0:r.cover),o.onload=function(){const s=a.getColor(o);g.value="rgba(".concat(s.map(c=>255-c).join(","),", 1)")}};return JSON.parse(localStorage.getItem("isCustomColor"))||u(()=>{var a,o;return(o=(a=e.songData)==null?void 0:a.track)==null?void 0:o.cover},(a,o)=>{a&&a!==o&&d()}),v(()=>{e.resetSongData()}),(a,o)=>(l(),n("div",{class:"main",style:x({"--shadow-color":g.value})},[h(S,{name:"fade",mode:"out-in"},{default:k(()=>{var t,r,s,c,m,_;return[(r=(t=i(e).songData)==null?void 0:t.track)!=null&&r.cover?(l(),n("img",{id:"cover",class:"cover",key:(c=(s=i(e).songData)==null?void 0:s.track)==null?void 0:c.cover,src:(_=(m=i(e).songData)==null?void 0:m.track)==null?void 0:_.cover,alt:"封面"},null,8,y)):(l(),n("img",I))]}),_:1})],4))}},A=D(B,[["__scopeId","data-v-14045e23"]]);export{A as default};
