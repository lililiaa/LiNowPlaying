import{bS as v,r as k,w as h,o as y,p as n,A as S,B as b,aq as x,x as p,s as l,u as i}from"./index-rwlLbiDS.js";import{_ as C}from"./music-Def25HgW.js";import{g as w,u as D}from"./cover-DzIuO3oK.js";import{_ as I}from"./plugin-vueexport-helper-DlAUqK2U.js";const B=["src"],z={key:1,class:"cover",style:{"box-sizing":"border-box",padding:"30px",color:"#fff"},src:C,alt:""},N={__name:"coverRound",setup(R){const e=v(),g=k(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)"),f=()=>{var t,s;const a=new D,o=new Image;o.src=w((s=(t=e.songData)==null?void 0:t.track)==null?void 0:s.cover),o.onload=function(){const r=a.getColor(o);g.value="rgba(".concat(r.map(c=>255-c).join(","),", 1)")}};return JSON.parse(localStorage.getItem("isCustomColor"))||h(()=>{var a,o;return(o=(a=e.songData)==null?void 0:a.track)==null?void 0:o.cover},(a,o)=>{a&&a!==o&&f()}),y(()=>{e.resetSongData()}),(a,o)=>(l(),n("div",{class:"main",style:p({"--shadow-color":g.value})},[S(x,{name:"fade",mode:"out-in"},{default:b(()=>{var t,s,r,c,m,d,u,_;return[(l(),n("div",{class:"cover-container",key:(s=(t=i(e).songData)==null?void 0:t.track)==null?void 0:s.cover},[(c=(r=i(e).songData)==null?void 0:r.track)!=null&&c.cover?(l(),n("img",{key:0,id:"cover",class:"cover",style:p({"animation-play-state":(d=(m=i(e).songData)==null?void 0:m.player)!=null&&d.isPaused?"paused":"running"}),src:(_=(u=i(e).songData)==null?void 0:u.track)==null?void 0:_.cover,alt:"封面"},null,12,B)):(l(),n("img",z))]))]}),_:1})],4))}},E=I(N,[["__scopeId","data-v-1bac20b5"]]);export{E as default};
