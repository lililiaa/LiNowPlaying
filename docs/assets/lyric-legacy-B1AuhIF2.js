System.register(["./index-legacy-PKqiM25M.js","./v-scale-screen-legacy-C3_kszPO.js","./cover-legacy-BlVuG08V.js","./plugin-vueexport-helper-legacy-DCWa1RRI.js"],function(t,a){"use strict";var i,e,n,r,l,c,o,s,d,y,u,v,g,f,x,b,p,m,h,w,k,D;return{setters:[function(t){i=t.bS,e=t.c,n=t.r,r=t.w,l=t.o,c=t.N,o=t.B,s=t.u,d=t.a2,y=t.cj,u=t.s,v=t.v,g=t.x,f=t.p,x=t.O,b=t.W,p=t.y,m=t.V},function(t){h=t.T},function(t){w=t.g,k=t.u},function(t){D=t._}],execute:function(){var a=document.createElement("style");a.textContent=".main[data-v-3c25b33c]{width:100%;height:100%;box-sizing:border-box;padding:50px}.main .lyric-container[data-v-3c25b33c]{width:100%;height:100%;overflow:hidden;-webkit-mask-image:linear-gradient(to bottom,rgba(0,0,0,.1),#000 100px,#000 calc(100% - 100px),rgba(0,0,0,.1));mask-image:linear-gradient(to bottom,rgba(0,0,0,.1),#000 100px,#000 calc(100% - 100px),rgba(0,0,0,.1))}.main .lyric-container .lyric-box[data-v-3c25b33c]{width:100%;transition:transform .5s ease;text-align:var(--95d3f524)}.main .lyric-container .lyric-box .lyric-line[data-v-3c25b33c]{height:100px;width:100%;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;color:var(--text-color);font-size:50px;opacity:.8;transition:all .5s ease-in-out;z-index:2}.main .lyric-container .lyric-box .lyric-line span[data-v-3c25b33c]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.main .lyric-container .lyric-box .lyric-line.active[data-v-3c25b33c]{opacity:1;font-size:70px;font-weight:700}.main .lyric-container .lyric-box .lyric-line[data-v-3c25b33c]:not(.active){filter:blur(1px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-3c25b33c]{height:160px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;padding:10px 0;color:var(--text-color);font-size:50px;opacity:.8;transition:all .5s ease-in-out;z-index:2}.main .lyric-container .lyric-box .lyric-line-translated span[data-v-3c25b33c]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:visible;transition:all .5s ease-in-out;flex:1}.main .lyric-container .lyric-box .lyric-line-translated.active[data-v-3c25b33c]{opacity:1;font-weight:700}.main .lyric-container .lyric-box .lyric-line-translated.active .original[data-v-3c25b33c]{font-size:55px;transform:translateY(15px);opacity:.8;filter:blur(2px)}.main .lyric-container .lyric-box .lyric-line-translated.active .translated[data-v-3c25b33c]{font-size:70px;transform:translateY(-15px)}.main .lyric-container .lyric-box .lyric-line-translated[data-v-3c25b33c]:not(.active){filter:blur(1px)}.main .lyric-container .lyric-empty[data-v-3c25b33c]{width:100%;height:100%;display:flex;justify-content:var(--95d3f524);align-items:center;font-size:70px;font-weight:700;color:var(--text-color);transition:all .5s ease-in-out}\n/*$vite$:1*/",document.head.appendChild(a);var j={class:"lyric-container"},z={key:0,class:"lyric-box"},C={class:"original"},I={class:"translated"},S={key:1,class:"lyric-empty"};t("default",D({__name:"lyric",setup:function(t){y(function(t){return{"95d3f524":q.value}});var a=i(),D=e(function(){for(var t,i=(null===(t=a.songData)||void 0===t||null===(t=t.player)||void 0===t?void 0:t.seekbarCurrentPositionHuman.split(":"))||0,e=60*parseInt(i[0])+parseInt(i[1]),n=-1,r=a.lyricData.lyric.length-1;r>=0;r--){var l=a.lyricData.lyric[r][1].match(/\[(\d+):(\d+)\.(\d+)\]/);if(l&&e>=60*parseInt(l[1])+parseInt(l[2])){n=r;break}}var c=0;c=0===a.lyricData.translatedLyric.length?100*-(n-4):160*-(n-2);var o=document.querySelector(".lyric-box");return o&&(o.style.transform="translateY(".concat(c,"px)")),n}),_=n(localStorage.getItem("backgroundColor")||"rgba(0, 0, 0, 0.8)"),L=n(localStorage.getItem("textColor")||"rgba(255, 255, 255, 1)"),Y=n(localStorage.getItem("shadowColor")||"rgba(255, 255, 255, 1)");JSON.parse(localStorage.getItem("isCustomColor"))||r(function(){var t;return null===(t=a.songData)||void 0===t||null===(t=t.track)||void 0===t?void 0:t.cover},function(t,i){var e,n,r;t&&t!==i&&(n=new k,(r=new Image).src=w(null===(e=a.songData)||void 0===e||null===(e=e.track)||void 0===e?void 0:e.cover),r.onload=function(){var t=n.getColor(r);_.value="rgba(".concat(t.join(","),", 1)"),L.value="rgba(".concat(t.map(function(t){return 255-t}).join(","),", 1)"),Y.value="rgba(".concat(t.map(function(t){return 255-t}).join(","),", 1)")})});var q=n("center");return l(function(){var t,i;i=null===(t=d.currentRoute.value.query)||void 0===t?void 0:t.align,q.value="left"===i?"left":"center"===i?"center":"right"===i?"right":"center",a.resetSongData()}),function(t,i){return u(),c(s(h),{"box-style":{backgroundColor:"none"}},{default:o(function(){return[v("div",{class:"main",style:g({"--text-color":L.value})},[v("div",j,[s(a).lyricData.lyric.length>0?(u(),f("div",z,[0===s(a).lyricData.translatedLyric.length?(u(!0),f(x,{key:0},b(s(a).lyricData.lyric,function(t,a){return u(),f("div",{class:p(["lyric-line",{active:a===D.value}]),key:a},[v("span",null,m(t[2]),1)],2)}),128)):(u(!0),f(x,{key:1},b(s(a).lyricData.lyric,function(t,i){var e,n;return u(),f("div",{class:p(["lyric-line-translated",{active:i===D.value}]),key:i},[v("span",C,m(null!==(e=s(a).lyricData.translatedLyric.find(function(t){return t[1]===s(a).lyricData.lyric[i][1]}))&&void 0!==e&&e[2]?t[2]:""),1),v("span",I,m((null===(n=s(a).lyricData.translatedLyric.find(function(t){return t[1]===s(a).lyricData.lyric[i][1]}))||void 0===n?void 0:n[2])||t[2]),1)],2)}),128))])):(u(),f("div",S,"暂无歌词"))])],4)]}),_:1})}}},[["__scopeId","data-v-3c25b33c"]]))}}});
