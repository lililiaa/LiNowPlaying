import{ac as _,c6 as W,al as B,am as T,ap as w,ar as z,aK as k,a1 as M,a2 as N,aa as m,a5 as j,aL as V,bk as b}from"./index-BMNJuAuZ.js";import{_ as C}from"./plugin-vueexport-helper-DlAUqK2U.js";const y=_({name:"overflowText",props:{color:{type:String,default:"rgba(255, 255, 255, 1)"},text:{type:String,default:""},fontSize:{type:String,default:"45px"},isBold:{type:String,default:"normal"},contentAlign:{type:String,default:"flex-start"}}}),S=()=>{W(e=>({db169dda:e.contentAlign,19519777:e.fontSize,"7db20316":e.isBold,"1997c388":e.color}))},x=y.setup;y.setup=x?(e,o)=>(S(),x(e,o)):S;const q={class:"marquee"},A={class:"marquee-warp"},E={class:"marquee-content"};function L(e,o,n,t,c,a){return T(),B("div",q,[w("div",A,[w("div",E,[z(e.$slots,"default",{},void 0,!0)])])])}const D=C(y,[["render",L],["__scopeId","data-v-429aec8e"]]);function F(e,o){let n;return function(...t){n&&clearTimeout(n),n=setTimeout(()=>{typeof e=="function"&&e.apply(null,t),clearTimeout(n)},o>0?o:100)}}const K=_({name:"VScaleScreen",props:{width:{type:[String,Number],default:1920},height:{type:[String,Number],default:1080},fullScreen:{type:Boolean,default:!1},autoScale:{type:[Object,Boolean],default:!0},delay:{type:Number,default:500},boxStyle:{type:Object,default:()=>({})},wrapperStyle:{type:Object,default:()=>({})},bodyOverflowHidden:{type:Boolean,default:!0}},setup(e,{slots:o}){let n;const t=k({width:0,height:0,originalWidth:0,originalHeight:0,observer:null}),c={box:{overflow:"hidden",backgroundSize:"100% 100%",backgroundColor:"#000",width:"100vw",height:"100vh"},wrapper:{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"500ms",position:"relative",overflow:"hidden",zIndex:100,transformOrigin:"left top"}},a=M(),g=()=>new Promise(i=>{m(()=>{var r,l;e.width&&e.height?(t.width=e.width,t.height=e.height):(t.width=(r=a.value)==null?void 0:r.clientWidth,t.height=(l=a.value)==null?void 0:l.clientHeight),(!t.originalHeight||!t.originalWidth)&&(t.originalWidth=window.screen.width,t.originalHeight=window.screen.height),i()})});function $(){e.bodyOverflowHidden&&(n=document.body.style.overflow,document.body.style.overflow="hidden")}const v=()=>{t.width&&t.height?(a.value.style.width="".concat(t.width,"px"),a.value.style.height="".concat(t.height,"px")):(a.value.style.width="".concat(t.originalWidth,"px"),a.value.style.height="".concat(t.originalHeight,"px"))},H=i=>{if(!e.autoScale)return;const r=a.value.clientWidth,l=a.value.clientHeight,f=document.body.clientWidth,d=document.body.clientHeight;a.value.style.transform="scale(".concat(i,",").concat(i,")");let s=Math.max((f-r*i)/2,0),u=Math.max((d-l*i)/2,0);typeof e.autoScale=="object"&&(!e.autoScale.x&&(s=0),!e.autoScale.y&&(u=0)),a.value.style.margin="".concat(u,"px ").concat(s,"px")},h=()=>{const i=document.body.clientWidth,r=document.body.clientHeight,l=t.width||t.originalWidth,f=t.height||t.originalHeight,d=i/+l,s=r/+f;if(e.fullScreen)return a.value.style.transform="scale(".concat(d,",").concat(s,")"),!1;const u=Math.min(d,s);H(u)},p=F(async()=>{await g(),v(),h()},e.delay),O=()=>{(t.observer=new MutationObserver(()=>{p()})).observe(a.value,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})};return N(()=>{$(),m(async()=>{await g(),v(),h(),window.addEventListener("resize",p),O()})}),j(()=>{var i;window.removeEventListener("resize",p),(i=t.observer)==null||i.disconnect(),e.bodyOverflowHidden&&(document.body.style.overflow=n)}),V(h),()=>{var i;return b("div",{className:"v-screen-box",style:{...c.box,...e.boxStyle}},[b("div",{className:"screen-wrapper",style:{...c.wrapper,...e.wrapperStyle},ref:a},(i=o.default)==null?void 0:i.call(o))])}}});export{K as T,D as o};
