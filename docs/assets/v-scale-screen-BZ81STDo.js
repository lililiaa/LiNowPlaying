import{a9 as x,bS as W,ah as B,ai as T,al as w,an as z,aG as M,_ as N,$ as j,a7 as m,a2 as k,aH as V,ba as b}from"./index-DkKwMBXU.js";import{_ as C}from"./plugin-vueexport-helper-DwRewS5w.js";const y=x({name:"overflowText",props:{color:{type:String,default:"rgba(255, 255, 255, 1)"},text:{type:String,default:""},fontSize:{type:String,default:"45px"},isBold:{type:String,default:"normal"},contentAlign:{type:String,default:"flex-start"}}}),S=()=>{W(e=>({ba591a04:e.contentAlign,"86c7f23c":e.fontSize,65175141:e.isBold,"2bb2429e":e.color}))},_=y.setup;y.setup=_?(e,a)=>(S(),_(e,a)):S;const q={class:"marquee"},A={class:"marquee-warp"},E={class:"marquee-content"};function F(e,a,n,t,c,i){return T(),B("div",q,[w("div",A,[w("div",E,[z(e.$slots,"default",{},void 0,!0)])])])}const D=C(y,[["render",F],["__scopeId","data-v-5077d4e6"]]);function I(e,a){let n;return function(...t){n&&clearTimeout(n),n=setTimeout(()=>{typeof e=="function"&&e.apply(null,t),clearTimeout(n)},a>0?a:100)}}const G=x({name:"VScaleScreen",props:{width:{type:[String,Number],default:1920},height:{type:[String,Number],default:1080},fullScreen:{type:Boolean,default:!1},autoScale:{type:[Object,Boolean],default:!0},delay:{type:Number,default:500},boxStyle:{type:Object,default:()=>({})},wrapperStyle:{type:Object,default:()=>({})},bodyOverflowHidden:{type:Boolean,default:!0}},setup(e,{slots:a}){let n;const t=M({width:0,height:0,originalWidth:0,originalHeight:0,observer:null}),c={box:{overflow:"hidden",backgroundSize:"100% 100%",backgroundColor:"#000",width:"100vw",height:"100vh"},wrapper:{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"500ms",position:"relative",overflow:"hidden",zIndex:100,transformOrigin:"left top"}},i=N(),g=()=>new Promise(o=>{m(()=>{var r,l;e.width&&e.height?(t.width=e.width,t.height=e.height):(t.width=(r=i.value)==null?void 0:r.clientWidth,t.height=(l=i.value)==null?void 0:l.clientHeight),(!t.originalHeight||!t.originalWidth)&&(t.originalWidth=window.screen.width,t.originalHeight=window.screen.height),o()})});function $(){e.bodyOverflowHidden&&(n=document.body.style.overflow,document.body.style.overflow="hidden")}const v=()=>{t.width&&t.height?(i.value.style.width=`${t.width}px`,i.value.style.height=`${t.height}px`):(i.value.style.width=`${t.originalWidth}px`,i.value.style.height=`${t.originalHeight}px`)},H=o=>{if(!e.autoScale)return;const r=i.value.clientWidth,l=i.value.clientHeight,f=document.body.clientWidth,d=document.body.clientHeight;i.value.style.transform=`scale(${o},${o})`;let s=Math.max((f-r*o)/2,0),u=Math.max((d-l*o)/2,0);typeof e.autoScale=="object"&&(!e.autoScale.x&&(s=0),!e.autoScale.y&&(u=0)),i.value.style.margin=`${u}px ${s}px`},h=()=>{const o=document.body.clientWidth,r=document.body.clientHeight,l=t.width||t.originalWidth,f=t.height||t.originalHeight,d=o/+l,s=r/+f;if(e.fullScreen)return i.value.style.transform=`scale(${d},${s})`,!1;const u=Math.min(d,s);H(u)},p=I(async()=>{await g(),v(),h()},e.delay),O=()=>{(t.observer=new MutationObserver(()=>{p()})).observe(i.value,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})};return j(()=>{$(),m(async()=>{await g(),v(),h(),window.addEventListener("resize",p),O()})}),k(()=>{var o;window.removeEventListener("resize",p),(o=t.observer)==null||o.disconnect(),e.bodyOverflowHidden&&(document.body.style.overflow=n)}),V(h),()=>{var o;return b("div",{className:"v-screen-box",style:{...c.box,...e.boxStyle}},[b("div",{className:"screen-wrapper",style:{...c.wrapper,...e.wrapperStyle},ref:i},(o=a.default)==null?void 0:o.call(a))])}}});export{G as T,D as o};
